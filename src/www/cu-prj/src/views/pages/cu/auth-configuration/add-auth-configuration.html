<!-- 此文件作为基础开发文件，需要开发新页面时，直接复制到相应位置，重命名即可 -->
{{#extend "main"}}

    <!-- 页面meta  作者，关键字，描述 -->
    {{#content "meta"}}
        <meta content="" name="description"/>
        <meta content="" name="author"/>
        <meta content="" name="keyword"/>
    {{/content}}

    <!-- 页面 title -->
    {{#content "title"}}
        <title>{{path.platform}} | {{path.subSystem}} | 功能权限配置 | {{path.addText}}</title>
    {{/content}}

    <!-- css插件 -->
    {{#content "css-plugins"}}

    {{/content}}

    <!-- 自定义css -->
    {{#content "css-main"}}
        <link rel="stylesheet" href="{{path.app}}/css/cu/common-form.css">
        <link rel="stylesheet" href="{{path.app}}/css/cu/auth-configuration/add-auth-configuration.css">
    {{/content}}

    <!-- 首屏渲染数据js-loader -->
    {{#content "js-loader"}}
        <script src="{{path.base}}/script/cu/dicts?ids=70"></script>
        <script src="{{path.base}}/script/cu/curesacts"></script>
    {{/content}}

    <!-- js插件 -->
    {{#content "js-plugins"}}
        <!-- @Override -->
    {{/content}}

    <!-- 自定义js -->
    {{#content "js-main"}}
        <script src="{{path.app}}/js/cu/auth-configuration/add-auth-configuration.js"></script>
    {{/content}}

    <!-- 页面主体 -->
    {{#content "content-main"}}
        <form action="" class="bsdForm form-horizontal" id="details-form" data-link="auth-configuration-list.html">
            <div class="portlet box">
                <div class="portlet-title">
                    <div class="caption">功能配置</div>
                    <div class="actions">
                        <a class="add-sign" id="add" href="javascript:;" title="新增"></a>
                        <a class="delete-sign" id="delete" class="" href="javascript:;" title="删除"></a>
                    </div>
                </div>
                <div class="portlet-body tabs-below">
                    <div class="table-scrollable">
                        <table class="table table-striped table-bordered table-hover" id="configurationTable">
                            <thead>
                            <tr>
                                <th width="5">选择</th>
                                <th width="25%">菜单名称</th>
                                <th width="25%">功能名称</th>
                                <th width="45%">链接</th>
                            </tr>
                            </thead>
                            <tbody id="tableBody" class="tableBody">
                            <tr>
                                <td class="form-group">
                                        <input type="radio" name="radio" data-id="0"/>
                                </td>
                                <td>
                                    <div class="find">
                                        <div class="line form-group">
                                            <input type="hidden" id="resNo0" name="cuResActList[0].resNo">
                                            <input type="text" class="form-control resNa required" id="resNa0" name="cuResActList[0].resNa" readonly>
                                        </div>
                                        <div class="line-use">
                                            <a data-toggle="modal" href="#menuNameModal">
                                                <button class="multiselect dropdown-toggle mt-multiselect btn btn-default"
                                                        type="button"
                                                        data-select2-open="single-prepend-text">
                                                    <span class="glyphicon glyphicon-search"></span>
                                                </button>
                                            </a>
                                        </div>
                                    </div>
                                </td>
                                <td class="form-group">
                                    <select name="cuResActList[0].resActCd"
                                            class="form-control required"
                                            data-selectloader-store="ResActCd"
                                            data-selectloader-vkey="code"
                                            data-selectloader-tkey="name">
                                        <option value="">请选择...</option>
                                    </select>
                                </td>
                                <td class="form-group">
                                    <input type="text" class="form-control required" name="cuResActList[0].url">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="portlet-body center">
                <div class="clearfix">
                    <button type="submit" id="commit" class="btn sky-blue btn-wid mainCol">确定</button>
                    <a href="auth-configuration-list.html" class="btn sky-blue btn-wid mainCol cancel-btn">
                        取消
                    </a>
                </div>
            </div>
        </form>
    {{/content}}

    <!-- 搜索按钮组，筛选条件，表格，分页的总容器 -->
    {{#content "content-pagination"}}{{/content}}

    <!-- 页面模态框 -->
    {{#content "content-free"}}
        <div class="modal fade" id="menuNameModal" tabindex="-1" role="basic" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content" id="menuListModal">
                    <div data-modal-header="" class="modal-header">
                        <h3 class="modal-title">菜单列表</h3>
                    </div>
                    <div data-modal-body="" class="modal-body">
                        <form action="" class="bsdForm pagination-form">
                            <div class="search">
                                <div class="form-group">
                                    <label class="form-label">菜单名称</label>
                                    <div>
                                        <input type="text" class="form-control" name="cooNo">
                                    </div>
                                </div>
                                <button class="multiselect dropdown-toggle mt-multiselect btn btn-default pagination-query mainCol"
                                        id="belongPartner"
                                        type="button"
                                        data-select2-open="single-prepend-text">
                                    查询
                                </button>
                            </div>
                        </form>
                        <div class="mes-list">
                            <div id="menuTable">
                                <div class="pagination-reload"></div>
                                <div class="portlet-body pagination-container"
                                     data-page-first-store="first-store"
                                     data-page-url="/FUNCTION_MENU_LIST"
                                     data-page-template-id="menulist-page-template"></div>
                            </div>
                        </div>
                    </div>
                    <div data-modal-footer="" class="modal-footer model-btn-center">
                        <div class="portlet-body">
                            <div class="clearfix">
                                <button class="btn mainCol" data-dismiss="modal">取消</button>
                                <button class="btn sky-blue btn-wid mainCol" data-dismiss="modal" id="confirm">确定
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    {{/content}}

    <!-- 页面组件模板 -->
    {{#content "content-component"}}
        <script type="text/x-handlebars-template" id="table-row-template">
            {{{{raw}}}}
                <tr>
                    <td class="form-group">
                            <input type="radio" name="radio" data-id="{{listIndex index}}"/>

                    </td>
                    <td>
                        <div class="find">
                            <div class="line form-group">
                                <input type="hidden" id="resNo{{listIndex index}}" name="cuResActList[{{listIndex index}}].resNo">
                                <input type="text" class="form-control required resNa" id="resNa{{listIndex index}}" name="cuResActList[{{listIndex index}}].resNa" readonly>
                            </div>
                            <div class="line-use">
                                <a data-toggle="modal" href="#menuNameModal">
                                    <button class="multiselect dropdown-toggle mt-multiselect btn btn-default"
                                            type="button"
                                            data-select2-open="single-prepend-text">
                                        <span class="glyphicon glyphicon-search"></span>
                                    </button>
                                </a>
                            </div>
                        </div>
                    </td>
                    <td class="form-group">
                        <select name="cuResActList[{{listIndex index}}].resActCd"
                                class="form-control required"
                                data-selectloader-store="ResActCd"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </td>
                    <td class="form-group">
                        <input type="text" class="form-control required" name="cuResActList[{{listIndex index}}].url">
                    </td>
                </tr>
            {{{{/raw}}}}
        </script>

        <script type="text/x-handlebars-template" id="menulist-page-template">
            {{{{raw}}}}
            <table class="table table-striped table-hover">
                <div class="table-scrollable">
                    <thead>
                    <tr>
                        <td>选择</td>
                        <td>菜单名称</td>
                        <td>菜单链接</td>
                        <td>创建时间</td>
                    </tr>
                    </thead>
                    <tbody>
                    {{#each page.content}}
                    <tr>
                        <td class="form-group">
                                <input type="radio" name="choice" value="{{resNo}}"/>
                        </td>
                        <td>{{resNa}}</td>
                        <td>{{resUrlCa}}</td>
                        <td>{{crDt}}</td>
                    </tr>
                    {{/each}}
                    </tbody>
                </div>
            </table>
            {{{{/raw}}}}
            {{> pager}}
        </script>
{{/content}}
{{/extend}}