{{#extend "main"}}

    <!-- title BEGIN -->
    {{#content "title"}}
        <title>{{path.platform}} | {{path.subSystem}} | 机构管理</title>
    {{/content}}
    <!-- title END -->

    <!-- css-plugins BEGIN -->
    {{#content "css-plugins"}}
        <!-- @Override -->
    {{/content}}
    <!-- css-plugins END -->

    <!-- css-main BEGIN -->
    {{#content "css-main"}}
        <link rel="stylesheet" href="{{path.app}}/css/cu/organization/organization.css">
    {{/content}}
    <!-- css-main END -->

    <!-- js-loader BEGIN -->
    {{#content "js-loader"}}
        <script src="{{path.base}}/script/cu/dicts?ids=28"></script>
        <script src="{{path.base}}/script/cu/cubrs"></script>

    {{/content}}
    <!-- js-loader END -->

    <!-- js-plugins BEGIN -->
    {{#content "js-plugins"}}
        <!-- @Override -->
    {{/content}}
    <!-- js-plugins END -->

    <!-- js-main BEGIN -->
    {{#content "js-main"}}
        <script src="{{path.app}}/js/cu/common/app-context.js"></script>
        <script src="{{path.app}}/js/cu/organization-management/organization-management-list.js"></script>
        <script src="{{path.app}}/js/auth-judge.js"></script>
    {{/content}}
    <!-- js-main END -->

    <!-- content-main BEGIN -->
    {{#content "content-main"}}

    {{/content}}
    <!-- content-main END -->

    <!-- pagination-form BEGIN -->
    {{#content "pagination-form"}}
        <form class="bsdForm pagination-form" id="loanTypeForm">
            <div class="form-group">
                <label for="queryBrNa" class="control-label">机构名称</label>
                <div>
                    <input type="text" class="form-control" name="brNa" id="queryBrNa" rangelength="[1,15]">
                </div>
            </div>
            <div class="form-group">
                <label for="queryBrLevQt" class="control-label">机构级别</label>
                <div>
                    <select id="queryBrLevQt"
                            name="brLevQt"
                            class="form-control"
                            data-selectloader-store="brLevQt"
                            data-selectloader-vkey="code"
                            data-selectloader-tkey="name">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="queryBrNo" class="control-label">机构编号</label>
                <div>
                    <input class="form-control" type="text" name="brNo" id="queryBrNo" maxlength="32">
                </div>
            </div>
            <div class="form-group">
                <label for="querySt" class="control-label">状态</label>
                <div>
                    <select id="querySt"
                            name="st"
                            class="form-control"
                            data-selectloader-store="st"
                            data-selectloader-vkey="code"
                            data-selectloader-tkey="name">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
        </form>
    {{/content}}
    <!-- pagination-form END -->

    <!-- pagination-container BEGIN -->
    {{#content "pagination-container"}}
        <div class="portlet-title">
            <div class="caption">机构列表</div>
            <div class="actions">
                <a class="add-sign" id="add" href="javascript:;" title="新增"></a>
                <a class="update-sign" id="update" href="javascript:;" title="修改"></a>
                <a class="delete-sign" id="delete" href="javascript:;" title="删除"></a>
                <a class="jihuo-sign" id="active" href="javascript:;" title="激活"></a>
                <a class="shixiao-sign" id="deActive" href="javascript:;" title="失效"></a>
            </div>
        </div>
        <div class="portlet-body">
            <div class="tabbable tabbable-tabdrop">
                <div class="pagination-reload"></div>
                <div class="portlet-body pagination-container"
                     data-page-first-store="first-store"
                     data-page-url="/ORGANIZATION_LIST"
                     data-page-template-id="table1-page-template">
                </div>
            </div>
        </div>
    {{/content}}

    {{#content "content-free"}}
        <script type="text/x-handlebars-template" id="form1-template">
            {{{{raw}}}}
                <form class="bsdForm">
                    <input type="hidden" class="form-control" name="brNo" id="brNo" readonly>
                    <div class="form-group">
                        <label for="brNa" class="control-label fill">机构名称</label>
                        <div>
                            <input type="text" class="form-control required isNotSpecialCharacter" rangelength="[1,15]"
                                   name="brNa" id="brNa">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="legPeNa" class="control-label">法定代表人</label>
                        <div>
                            <input type="text" class="form-control isNotSpecialCharacter" rangelength="[1,30]"
                                   name="legPeNa" id="legPeNa">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="brLevQt" class="control-label fill">机构级别</label>
                        <div>
                            <select id="brLevQt"
                                    name="brLevQt"
                                    class="form-control required"
                                    data-selectloader-store="brLevQt"
                                    data-selectloader-vkey="code"
                                    data-selectloader-tkey="name">
                                <option value="">请选择</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="parentBrNo" class="control-label">上级机构</label>
                        <div>
                            <select id="parentBrNo"
                                    name="parentBrNo"
                                    class="form-control"
                                    data-selectloader-store="parentBrNo"
                                    data-selectloader-vkey="brNo"
                                    data-selectloader-tkey="brNa"
                                    data-selectloader-append="0">
                                <option value="">请选择</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="conNa" class="control-label">机构联系人</label>
                        <div>
                            <input type="text" class="form-control" maxlength="30" name="conNa" id="conNa">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="conTelNo" class="control-label">机构电话</label>
                        <div>
                            <input type="text" class="form-control isMobilePhone" name="conTelNo" id="conTelNo">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="conAdCa" class="control-label">机构联系地址</label>
                        <div>
                            <input type="text" class="form-control" name="conAdCa" id="conAdCa" maxlength="32">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="conAdCaCo" class="control-label">详细地址</label>
                        <div>
                            <input type="text" class="form-control" name="conAdCaCo" id="conAdCaCo" maxlength="32">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="modalDescription" class="control-label">备注</label>
                        <div>
                            <textarea class="form-control" name="co" id="modalDescription" maxlength="200"></textarea>
                        </div>
                    </div>
                </form>
            {{{{/raw}}}}
        </script>

        <script type="text/x-handlebars-template" id="form2-template">
            {{{{raw}}}}
            <form class="bsdForm">
                <div class="form-group">
                    <label for="brNo" class="control-label fill">机构编号</label>
                    <div>
                        <input type="text" class="form-control required" name="brNo" id="brNo" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label for="brNa" class="control-label fill">机构名称</label>
                    <div>
                        <input type="text" class="form-control required isNotSpecialCharacter" rangelength="[1,15]"
                               name="brNa" id="brNa">
                    </div>
                </div>
                <div class="form-group">
                    <label for="legPeNa" class="control-label">法定代表人</label>
                    <div>
                        <input type="text" class="form-control isNotSpecialCharacter" rangelength="[1,15]"
                               name="legPeNa" id="legPeNa">
                    </div>
                </div>
                <div class="form-group">
                    <label for="brLevQt" class="control-label fill">机构级别</label>
                    <div>
                        <select id="brLevQt"
                                name="brLevQt"
                                class="form-control required"
                                data-selectloader-store="brLevQt"
                                data-selectloader-vkey="code"
                                data-selectloader-nselect="#parentBrNo"
                                data-selectloader-tkey="name">
                            <option value="">请选择</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="parentBrNo" class="control-label">上级机构</label>
                    <div>
                       <!-- <input type="hidden" name="parentBrNo"/>-->
                        <select id="parentBrNo"
                                name="parentBrNo"
                                class="form-control"
                                data-selectloader-store="parentBrNo"
                                data-selectloader-vkey="brNo"
                                data-selectloader-tkey="brNa"
                                data-selectloader-append="0">
                            <option value="">请选择</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="conNa" class="control-label">机构联系人</label>
                    <div>
                        <input type="text" class="form-control" maxlength="30" name="conNa" id="conNa">
                    </div>
                </div>
                <div class="form-group">
                    <label for="conTelNo" class="control-label">机构电话</label>
                    <div>
                        <input type="text" class="form-control isMobilePhone" name="conTelNo" id="conTelNo">
                    </div>
                </div>
                <div class="form-group">
                    <label for="conAdCa" class="control-label">机构联系地址</label>
                    <div>
                        <input type="text" class="form-control" name="conAdCa" id="conAdCa" maxlength="32">
                    </div>
                </div>
                <div class="form-group">
                    <label for="conAdCaCo" class="control-label">详细地址</label>
                    <div>
                        <input type="text" class="form-control" name="conAdCaCo" id="conAdCaCo" maxlength="32">
                    </div>
                </div>
                <div class="form-group">
                    <label for="modalDescription" class="control-label">备注</label>
                    <div>
                        <textarea class="form-control" name="co" id="modalDescription" maxlength="200"></textarea>
                    </div>
                </div>
            </form>
{{{{/raw}}}}
</script>

{{/content}}

<!-- 页面组件模板 -->
{{#content "content-component"}}
<script type="text/x-handlebars-template" id="table1-page-template">
    {{{{raw}}}}
<div class="table-scrollable">
    <table class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
            <th>选择</th>
            <th>机构名称</th>
            <th>机构编号</th>
            <th>机构级别</th>
            <th>上级机构</th>
            <th>机构联系人</th>
            <th>联系电话</th>
            <th>状态</th>
            <th width="20%">备注</th>
        </tr>
        </thead>
        <tbody>
        {{#each page.content}}
        <tr>
            <td>
                <label for="id_{{page-rowindex}}">
                    <input
                            id="id_{{page-rowindex}}"
                            type="radio"
                            name="radio"
                            data-id="{{brNo}}">
                </label>
            </td>
            <td>{{brNa}}</td>
            <td class="icode">{{brNo}}</td>
            <td class="brLev">{{brLevQt-text}}<input type="hidden" value="{{brLevQt}}"></td>
            <td>{{parentBrNa}}</td>
            <td>{{conNa}}</td>
            <td>{{conTelNo}}</td>
            <td>{{st-text}}</td>
            <td>
                <div class="omit" title="{{co}}">{{co}}</div>
            </td>
        </tr>
        {{/each}}
        </tbody>
    </table>
</div>
{{{{/raw}}}}
    {{> pager}}
</script>
{{/content}}

{{/extend}}