<!DOCTYPE html>
<!--[if IE 8]>
<html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--  页面信息  -->
    
    <!--  页面标题  -->
            <title>消费金融平台 | 统一用户 | 菜单管理</title>


    <link rel="stylesheet"
          href="/static/lib/google/fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all"
    />
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/font-awesome/css/font-awesome.min.css"
    />
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/simple-line-icons/simple-line-icons.min.css"
    />
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/uniform/css/uniform.default.css"/>
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css"
    />
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-toastr/toastr.min.css"/>
    <link rel="stylesheet" href="/static/lib/metronic/4.5.2/assets/global/css/components.min.css"
          id="style_components"
    />
    <link rel="stylesheet" href="/static/lib/metronic/4.5.2/assets/global/css/plugins.min.css"/>
    <link rel="stylesheet" href="/static/lib/metronic/4.5.2/assets/layouts/layout/css/layout.min.css"/>
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/layouts/layout/css/themes/darkblue.min.css"
          id="style_color"
    />
    <link rel="stylesheet" href="/static/lib/metronic/4.5.2/assets/layouts/layout/css/custom.min.css"/>
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/jstree/dist/themes/default/style.min.css"
    />
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/blueimp-gallery/blueimp-gallery.min.css"
    />
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/css/jquery.fileupload.css"
    />
    <link rel="stylesheet"
          href="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/css/jquery.fileupload-ui.css"
    />
    <link href="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-select/css/bootstrap-select.min.css" rel="stylesheet" type="text/css" />
    <!--[if lt IE 9]>
    <script src="/static/lib/metronic/4.5.2/assets/global/plugins/respond.min.js"></script>
    <script src="/static/lib/metronic/4.5.2/assets/global/plugins/excanvas.min.js"></script>
    <![endif]-->

    <!--  第三方css  -->
            <link rel="stylesheet" href="/static/app/1.0.0/lib/jquery-ui-1.12.1/jquery-ui.min.css"/>
        <link rel="stylesheet" href="/static/app/1.0.0/lib/select2/css/select2.min.css"/>
        <link rel="stylesheet" href="/static/app/1.0.0/lib/select2/css/select2-bootstrap.min.css"/>

    <link rel="shortcut icon" href="/static/app/1.0.0/img/favicon.ico"/>
    <link rel="stylesheet" href="/static/app/1.0.0/css/reset.css"/>
    <link rel="stylesheet" href="/static/app/1.0.0/css/app.css"/>
    <link rel="stylesheet" href="/static/app/1.0.0/css/app-plugins.css"/>
    <!--  自定义css  -->
            <link rel="stylesheet" href="/static/app/1.0.0/css/cu/simple-layout.css"/>
        <link rel="stylesheet" href="/static/app/1.0.0/css/cu/menu-management/menu-management.css"/>
        <style>
            .select2-container--bootstrap .select2-dropdown {
                z-index: 10051;
            }
        </style>

    <link rel="stylesheet" href="/static/app/1.0.0/css/cu/common-form.css"/>
    <link rel="stylesheet" href="/static/app/1.0.0/css/cu/modal-form.css"/>
</head>

<body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white">
<div id="bootstrap-select-box" ></div>
<!-- 组件模板类占位符  内容有可能是js文件，也有可能是handlebar模板，所以放在这个位置  -->
<script id="function-form-template" type="text/x-handlebars-template">
            <form action="/cu/curesacts/create" class="bsdForm form-horizontal" id="menuFunc" role="form">
                <div class="actions">
                    <a id="add" class="add-sign" href="javaScript:;" title="新增"></a>
                    <a class="delete-sign" id="delete" class="" href="javascript:;" title="删除"></a>
                </div>
                <input type="hidden" name="resNo">
                <table class="table table-striped table-hover">
                    <div class="table-scrollable">
                        <thead>
                        <tr>
                            <td width="10%">选择</td>
                            <td width="30%">功能名称</td>
                            <td width="35%">功能链接</td>
                            <td width="25%">预授权</td>
                        </tr>
                        </thead>
                        <tbody id="tableBody" class="tableBody">
                        {{#each content}}
                        <tr>
                            <td class="form-group">
                                <input
                                        id="{{@index}}"
                                        data-id="{{@index}}"
                                        name="radio"
                                        type="radio">
                            </td>
                            <td class="form-group">
                                <input type="hidden" name="cuResActS[{{@index}}].suId" value="{{suId}}">
                                <input type="text" class="form-control required textExe" name="cuResActS[{{@index}}].resActCa" value="{{resActCa}}">
                            </td>
                            <td class="form-group">
                                <input type="text" class="form-control required" name="cuResActS[{{@index}}].url" value="{{url}}">
                            </td>
                            <td class="form-group">
                                <select name="cuResActS[{{@index}}].defRiYn"
                                        class="form-control required"
                                        data-selectloader-val="{{defRiYn}}"
                                        data-selectloader-store="defRiYn"
                                        data-selectloader-vkey="code"
                                        data-selectloader-tkey="name">
                                    <option value="">请选择</option>
                                </select >
                            </td>
                        </tr>
                        {{/each}}
                        </tbody>
                    </div>
                </table>

                <div class="updateBtn">
                    <button type="button" id="updateFunc" class="btn btn-circle green">保存</button>
                </div>
            </form>

</script>
<script id="show-form-template" type="text/x-handlebars-template">
    <form class="form-horizontal" action="/UPDATE_MENU_DATA" id="showForm" role="form">
        <div class="form-body">
            <div class="form-group">
                <label class="col-sm-4 control-label fill">菜单名称</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control isChinese" rangelength="[4,6]" name="resNa" required
                           value="{{resNa}}">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label fill">菜单编号</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" name="resNo" required value="{{resNo}}" readonly required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label fill">菜单链接</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" name="resUrlCa" required value={{resUrlCa}}>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label fill">所属系统</label>
                <div class="col-sm-6">
                    <select id="resSyCdNames"
                            name="syCd"
                            class="form-control"
                            data-selectloader-val="{{cusyc.syCd}}"
                            data-selectloader-store="resSyCdNames"
                            data-selectloader-vkey="syCd"
                            data-selectloader-tkey="syNa" required>
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label fill">排序号</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control digits" name="dispOr" value="{{dispOr}}" required readonly>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label pic">菜单图标</label>
                <div class="col-sm-6">
                    <select name="iconNo" class="form-control js-example-basic-single"
                            data-selected-value="{{cuicos.iconNo}}"></select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label fill">是否留痕</label>
                <div class="radio-noborder">
                    <div class="radio-list pageMarkYn"
                         id="pageMark"
                         data-radioloader-val="{{pageMarkYn}}"
                         data-radioloader-name="pageMarkYn"
                         data-radioloader-store="pageMarkYn"
                         data-radioloader-vkey="code"
                         data-radioloader-tkey="name"
                         required>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">菜单说明</label>
                <div class="col-sm-6 explain">
                    <textarea class="form-control" rangelength="[1,200]" name="co" id="co" value="{{co}}"></textarea>
                </div>
            </div>
        </div>
        <div class="form-actions">
            <div class="row">
                <div class="col-md-offset-5 col-md-3">
                    <button type="button" id="updateBtn" class="btn btn-circle green">保存</button>
                </div>
            </div>
        </div>
    </form>
</script>



<script type="text/x-handlebars-template" id="table-row-template">
    <tr>
        <td class="form-group">
            <input
                    id="{{listIndex index}}"
                    data-id="{{listIndex index}}"
                    name="radio"
                    type="radio">
        </td>
        <td class="form-group">
            <input type="hidden" name="cuResActS[{{listIndex index}}].suId">
            <input type="text" class="form-control required textExe" name="cuResActS[{{listIndex index}}].resActCa">
        </td>
        <td class="form-group">
            <input type="text" class="form-control required" name="cuResActS[{{listIndex index}}].url">
        </td>
        <td class="form-group">
            <select name="cuResActS[{{listIndex index}}].defRiYn"
                    class="form-control required"
                    data-selectloader-store="defRiYn"
                    data-selectloader-vkey="code"
                    data-selectloader-tkey="name">
                <option value="">请选择</option>
            </select>
        </td>
    </tr>
</script>

<!-- 生成html填充处  -->
<div id="app"></div>
<!-- 首屏数据模板  -->
<script id="mainTemplate" type="text/x-handlebars-template">
    <header>
        <div class="page-header navbar navbar-fixed-top ">
            <div class="page-header-inner clearfix">
                <div class="page-logo">
                    <a href="{{base}}/index.html">
                        <img src="{{path.app}}/img/logo-big-auto.png" width="116"/>
                        <h1 class="logo-text">柏诚消费金融情报系统</h1>
                    </a>
                </div>
                <div class="pull-right">
                    <ul class="main-menu nav navbar-nav pull-right">
                        {{#each mainMenus}}
                        <li>
                            <a class="nav-item {{#if (menu-active)}} active{{/if}}"
                               {{#if (has-children)}}
                               href="javascript:;"
                               {{else}}
                               href="{{../base}}{{url}}"
                               {{/if}}
                            style="background-image: url({{../cubase}}/cu/cuicons/loadImage?iconNo={{styleObject.iconClassName}}); background-size:25px;"
                            >{{text}}
                            </a>
                            <ul class="sub-menu">
                                {{#each children}}
                                <li class="nav-item">
                                    <a {{#if (has-children)}}
                                       href="javascript:;"
                                       {{else}}
                                       href="{{../../base}}{{url}}"
                                       {{/if}}
                                    class="nav-link{{#if (has-children)}} nav-toggle{{/if}}"
                                    >
                                    <span class="title">{{text}}</span>
                                    {{#if (has-children)}}<img src="{{../../path.app}}/img/nav/daohangjiantou.png"/>{{/if}}
                                    </a>
                                    <ul class="{{#if (has-children)}} sub-menu  three-menu{{/if}}" dir="rtl">
                                        {{#each children}}
                                        <li class="nav-item">
                                            <a href="{{../../../base}}{{url}}"
                                               class="nav-link">
                                                <span class="title">{{text}}</span>
                                                {{#if (has-children)}}<img src="{{../../../path.app}}/img/nav/daohangjiantou.png"/>{{/if}}
                                            </a>
                                        </li>
                                        {{/each}}
                                    </ul>
                                </li>
                                {{/each}}
                            </ul>
                        </li>
                        {{/each}}
                    </ul>
                </div>
            </div>
            <div>
                <div class="menu-toggler sidebar-toggler">
                    <span>我的快捷键</span>
                </div>
            </div>
        </div>
    </header>
    <div class="page-container">
        <div class="page-sidebar" data-menu-store="menus">
            <ul class="page-sidebar-menu page-sidebar-menu-hover-submenu">
                {{#each menus}}
                <li class="nav-item">
                    <a href="{{../base}}{{url}}"
                       class="nav-link"
                    > {{{menu-icon}}}<span class="title">{{text}}</span>
                    </a>
                </li>
                {{/each}}
            </ul>
        </div>
        <div class="page-content-wrapper">
            <div class="page-content">
                    {{#unless forceChangeLoginPassword}}
                            {{#if crumbs}}
                                <div class="page-crumbs clearfix">
                                    <dl>
                                        <dt class="{{crumbs.icon}}"><a href="{{crumbs.dt.url}}">{{crumbs.dt.text}}</a></dt>
                                        {{#each crumbs.dd}}
                                        <dd><a href="{{url}}">{{text}}</a></dd>
                                        {{/each}}
                                    </dl>
                                    <div class="loginDiv">
                                        <div class="login-info" id="loginInfo">
                                        <a id="set_img" href="javascript:;" onclick="showLogin();">
                                          <img src=""/>
                                          <span>{{userInfo.loginName}}</span>
                                        </a>
                                        <ul style="display: none">
                                          <li><a href="{{cubase}}/cu/personal-settings/personal-info-maintenance.html">个人信息</a></li>
                                          <li><a href="{{cubase}}/cu/log-view/log-oprate.html">查看日志</a></li>
                                          <li><a href="{{cubase}}/cu/personal-settings/update-password.html">修改登录密码</a></li>
                                          <li class="li-time">上次登录时间</br>{{userInfo.loginTime}}</li>
                                          <li><a href="{{cubase}}/logout">退出登录</a></li>
                                        </ul>
                                      </div>
                                    </div>
                                </div>
                            {{/if}}
                        
        <div id="content">
            <div class="ui-layout-west">
                <div class="tree-nav" id="jstree">
                </div>
            </div>
            <div class="ui-layout-center">
                <!--<button id="getBtn">get</button>-->
                <div class="portlet light">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="fa fa-gift"></i>菜单定义
                        </div>
                    </div>
                    <div class="portlet-body form" id="showContent">

                    </div>
                </div>
            </div>
            <div class="ui-layout-east">
                <div class="portlet light portlet-cont">
                    <div class="portlet-title">
                        <div class="caption"><i class="fa fa-gift"></i>菜单页面功能</div>
                        <!--<div class="actions">
                            <a id="add" class="add-sign" href="javaScript:;" title="新增"></a>
                            <a class="delete-sign" id="delete" class="" href="javascript:;" title="删除"></a>
                        </div>-->
                    </div>
                    <div class="portlet-body tabs-below" id="menuFunction">
                    </div>
                </div>
            </div>
        </div>


                    {{/unless}}
            </div>
        </div>
        <a href="javascript:;" class="page-quick-sidebar-toggler">
            <i class="icon-login"></i>
        </a>
    </div>
    <footer>
        <div class="page-footer">
            <div class="page-footer-inner"> 2017 &copy; 找音乐老师后台管理系统.</div>
            <div class="scroll-to-top">
                <i class="icon-arrow-up"></i>
            </div>
        </div>
    </footer>
    <div id="chgloginpwd-modal" class="modal fade modal-scroll" tabindex="-1" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"><i class="fa fa-edit"></i> <strong><span
                            id="chgloginpwd-msg">修改登录密码</span></strong>
                    </h4>
                </div>
                <div class="modal-body form">
                    <form id="edit-user-passwd" action="{{base}}/cu/update/loginpwd" role="form"
                          class="form-horizontal">
                        <div class="form-body">
                            <div class="form-group">
                                <label class="control-label col-md-3 fill">原登录密码</label>
                                <div class="col-md-8">
                                    <input type="password" name="plainOldPassword" class="form-control"
                                           data-rule-required="1">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 fill">新登录密码</label>
                                <div class="col-md-8">
                                    <input type="password" name="plainNewPassword" id="password"
                                           class="form-control passwordCheck" data-rule-required="1" minlength="6" maxlength="16"
                                           data-msg-minlength="密码至少输入六位！">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 fill">新密码确认</label>
                                <div class="col-md-8">
                                    <input type="password" name="newPassword" class="form-control"
                                           data-rule-equalto="#password" data-msg-equalto="两次密码不一致"
                                           data-rule-required="1" >
                                </div>
                            </div>
                        </div>
                        <div class="form-actions right">
                            <button type="button" class="btn blue" id="updatePWD">提交</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</script>
<!-- 弹框类占位符  -->
        <div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="myModalLabel">新增菜单</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal" id="addMenuForm" action="/COMMIT_MENU_DATA" role="form">
                            <div class="form-group">
                                <label class="col-sm-4 control-label fill">菜单名称</label>
                                <div class="col-sm-5">
                                    <input type="text" class="form-control isChinese" name="resNa" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-4 control-label fill">菜单编号</label>
                                <div class="col-sm-5">
                                    <input type="hidden" id="parentId" name="faResNo">
                                    <input type="text" class="form-control" name="resNo" required readonly>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-4 control-label fill">菜单链接</label>
                                <div class="col-sm-5">
                                    <input type="text" class="form-control" name="resUrlCa" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-4 control-label fill">所属系统</label>
                                <div class="col-sm-5">
                                    <select id="resSyCd"
                                            name="syCd"
                                            class="form-control required"
                                            data-selectloader-store="resSyCdNames"
                                            data-selectloader-vkey="syCd"
                                            data-selectloader-tkey="syNa" required>
                                        <option value="">请选择</option>
                                    </select>
                                </div>
                            </div>
                            <!-- <div class="form-group">
                                 <label class="col-sm-4 control-label">排序号</label>
                                 <div class="col-sm-5">
                                     <input type="text" class="form-control digits" name="dispOr" value="">
                                 </div>
                             </div>-->
                            <div class="form-group">
                                <label class="col-sm-4 control-label pic">菜单图标</label>
                                <div class="col-sm-5">
                                    <select name="iconNo" class="form-control js-example-basic-single"></select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-4 control-label fill">是否留痕</label>
                                <div class="radio-noborder col-sm-5">
                                    <div class="radio-list pageMarkYn"
                                         id="pageMarkYn"
                                         data-radioloader-val=""
                                         data-radioloader-name="pageMarkYn"
                                         data-radioloader-store="pageMarkYn"
                                         data-radioloader-vkey="code"
                                         data-radioloader-tkey="name"
                                         required>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-4 control-label">菜单说明</label>
                                <div class="col-sm-5">
                                    <textarea class="form-control" rangelength="[1,200]" name="co"></textarea>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" class="btn blue" id="addConfirm">确定</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade bs-modal-sm" id="errorMES" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                        <h4 class="modal-title">提示信息</h4>
                    </div>
                    <div class="modal-body">确定要删除该条记录吗？</div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline dark" data-dismiss="modal">取消</button>
                        <button type="button" class="btn blue" id="confirmOK">确定</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade bs-modal-sm" id="errorMESmall" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                        <h4 class="modal-title">提示信息</h4>
                    </div>
                    <div class="modal-body">你还没有选中记录！</div>
                    <div class="modal-footer">
                        <button type="button" class="btn blue" data-dismiss="modal">确定</button>
                    </div>
                </div>
            </div>
        </div>

<!-- 提示类弹框  -->
    <div id="pageModal" class="modal fade" style="display: none;" tabindex="-1" data-backdrop="static" data-keyboard="false">
        <div data-modal-size class="modal-dialog">
            <div class="modal-content">
                <div data-modal-header class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 data-modal-title class="modal-title">提示</h4>
                </div>
                <div data-modal-body class="modal-body">
                    <p data-modal-text>这是模态框！</p>
                </div>
                <div data-modal-footer class="modal-footer">
                    <button data-modal-cancel type="button" data-dismiss="modal" class="btn btn-outline dark">取消</button>
                    <button data-modal-ok type="button" class="btn blue">确定</button>
                </div>
            </div>
        </div>
    </div>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/js.cookie.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery.blockui.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/uniform/jquery.uniform.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootbox/bootbox.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-toastr/toastr.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/scripts/app.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-validation/js/jquery.validate.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-validation/js/additional-methods.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-validation/js/localization/messages_zh.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jstree/dist/jstree.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/vendor/jquery.ui.widget.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/vendor/tmpl.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/vendor/load-image.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/vendor/canvas-to-blob.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/blueimp-gallery/jquery.blueimp-gallery.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/jquery.iframe-transport.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/jquery.fileupload.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/jquery.fileupload-process.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/jquery.fileupload-image.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/jquery.fileupload-audio.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-file-upload/js/jquery.fileupload-video.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/layouts/layout/scripts/layout.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/layouts/global/scripts/quick-sidebar.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/moment.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-datepicker/locales/bootstrap-datepicker.zh-CN.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/clockface/js/clockface.js" type="text/javascript"></script>
<script src="/static/lib/handlebars/4.0.4/handlebars.js"></script>
<script src="/static/lib/jquery-deserialize/1.3.3/jquery.deserialize.min.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>
<script src="/static/lib/metronic/4.5.2/assets/global/plugins/bootstrap-select/js/bootstrap-select.min.js" type="text/javascript"></script>
<!-- js第三方库  -->
        <script src="/static/app/1.0.0/lib/jquery-ui-1.12.1/jquery-ui.min.js"></script>
        <script src="/static/app/1.0.0/lib/jquery-layout/jquery.layout.min.js"></script>
        <script src="/static/app/1.0.0/lib/select2/js/select2.full.min.js"></script>

<script>
    /**
     * 初始化全局app命名空间
     * @type Object
     */
    window.app = window.app || {};
</script>
<!-- 公共js文件  -->
<script src="/static/app/1.0.0/js/helpers.js"></script>
<script src="/static/app/1.0.0/js/app.js"></script>
<!-- 公共模拟数据 -->
<script src="/script/cu/app.js"></script>
<script>
  /**
    * 检测是否已经登录
    */
  app.$getJSON(app.base + '/cu/oauth2/checkLogin').done(function (json) {
    console.log('checkLogin', json);
    if (app.isOK(json)) {
      console.log('已经登录.');
    }
  });
</script>
<script src="/script/cu/availableMenus"></script>
<script src="/cu/cuuss/loginNa"></script>
<!-- 首屏数据  -->
        <script src="/script/cu/curess"></script>

<script>
  $('#app').append(Handlebars.compile($('#mainTemplate').html())(app));
  app.$getJSON(app.base + '/cu/cuuslogins/checkPW').done(function(data) {
    if(data.resultCode == 'FAIL') {
      $('#chgloginpwd-modal').modal();
      $('#chgloginpwd-msg').html(data.errors.join());
    }
});
$('#updatePWD').unbind('click').click(function() {
    var form = $('#edit-user-passwd');
    var jqxhr = app.$submit(form, 'json');
    if(!jqxhr) return false;
    jqxhr.done(function(data) {
      if(app.isOK(data)) {
        app.alertOK('修改成功');
        setTimeout(function() {
          window.location.href = app.base+"/logout";
        }, 2000);
      } else {
        app.alertError(data.errors.join());
      }
    });
});
</script>
<script src="/static/app/1.0.0/js/init.js"></script>
<script src="/static/app/1.0.0/js/cu/urls.js"></script>
<script src="/static/app/1.0.0/js/app-plugins.js"></script>
<script src="/static/app/1.0.0/js/validation.js"></script>
<script src="/static/app/1.0.0/js/chgloginpwd.js"></script>

<!-- 自定义js文件  -->
        <script src="/static/app/1.0.0/js/cu/common/app-context.js"></script>
        <script src="/static/app/1.0.0/js/cu/menu-management/menu-management.js"></script>

</body>
</html>