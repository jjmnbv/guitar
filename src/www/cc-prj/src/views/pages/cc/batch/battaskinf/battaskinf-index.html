{{#extend "main"}}

  <!-- 页面meta  作者，关键字，描述 -->
  {{#content "meta"}}
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <meta content="" name="keyword"/>
  {{/content}}

  <!-- 页面 title -->
  {{#content "title"}}
    <title>批处理任务管理</title>
  {{/content}}

  <!-- css插件 -->
  {{#content "css-plugins"}}
    <!-- @Override -->
  {{/content}}

  <!-- 自定义css -->
  {{#content "css-main"}}
      <link rel="stylesheet" href="{{path.app}}/css/cc/common-form.css"/>
      <link rel="stylesheet" href="{{path.app}}/css/cc/modal-form.css"/>
    <!-- @Override -->
  {{/content}}

  <!-- 首屏渲染数据js-loader -->
  {{#content "js-loader"}}
    <script src="{{path.base}}/script/cc/dicts?ids=3002,3036,3006"></script>
    <script src="{{path.base}}/cc/params/csdicfg/getDiCfgs?ids=TrTyp"></script>
    <script src="{{path.base}}/script/cc/batch/batchtaskinfo"></script> 
  {{/content}}

  <!-- js插件 -->
  {{#content "js-plugins"}}
    <!-- @Override -->
  {{/content}}

  <!-- 自定义js -->
  {{#content "js-main"}}
  	<script src="{{path.app}}/js/cc/common/app-context.js"></script>
    <script src="{{path.app}}/js/cc/batch/battaskinf.js"></script>
    <script src="{{path.app}}/js/cc/batch/urls.js"></script>
    <script src="{{path.app}}/js/auth-judge.js"></script>
  {{/content}}

  <!-- 页面主体 -->
  {{#content "content-main"}}
    <!-- @Override -->
  {{/content}}

  <!-- 分页查询条件 pagination-form -->
  {{#content "pagination-form"}}
    <!-- @Override -->
    <form role="form" class="bsdForm pagination-form">
      <div class="form-row">
            <div class="form-group">
              <label class="control-label ">任务名称:</label>
              <div >
                <input name="taskNa" type="text" class="form-control">
              </div>
            </div>
            <div class="form-group">
              <label class="control-label ">交易码:</label>
              <div >
                 <select name="txNo" class="form-control select-txNo "
               	  		data-selectloader-store="txNoList"
              		  	data-selectloader-vkey="code" data-selectloader-tkey="name">
           		        <option value="">请选择...</option>
				</select>
              </div>
            </div>
            <div class="form-group">
              <label class="control-label">是否生效:</label>
              <div >
                <select name="ynAv" class="form-control select-ynAv "
               	  		data-selectloader-store="ynAvList"
              		  	data-selectloader-vkey="code" data-selectloader-tkey="name">
           		        <option value="">请选择...</option>
				</select>
              </div>
            </div>
            <div class="form-group">
              <label class="control-label ">执行周期:</label>
              <div >
                <select name="exCd" class="form-control select-exCd "
               	  		data-selectloader-store="exCdList"
              		  	data-selectloader-vkey="code" data-selectloader-tkey="name">
           		        <option value="">请选择...</option>
				</select>
              </div>
            </div>
      </div>
    </form>
  {{/content}}
  <!-- pagination-form END -->

  <!-- 分页表格和分页页码 pagination-container -->
  {{#content "pagination-container"}}
    <div class="portlet-title">
      <div class="caption"> 批处理任务管理 </div>
      <div class="actions">
          <a id="add" href="javascript:;" title="新增" class="add-sign"></a>
          <a id="edit" href="javascript:;" title="编辑" class="update-sign"></a>
          <a id="delete" href="javascript:;" title="删除" class="delete-sign"></a>
      </div>
    </div>
    <div class="portlet-body">
      <div class="tabbable tabbable-tabdrop">
        <div class="portlet-body pagination-container"
          data-page-first-store="first-store"
          data-page-url="/BATCHTASKINFO_PAGE"
          data-page-template-id="battaskinf-page-template">
        </div>
      </div>
    </div>
  <!-- @Override -->
  {{/content}}
  <!-- pagination-container END -->

    <!-- 页面模态框 -->
  {{#content "content-free"}}
    <script type="text/x-handlebars-template" id="battaskinf-page-template">
    {{{{raw}}}}
    <div class="table-scrollable">
      <table class="table table-striped table-bordered table-hover">
        <thead>
          <tr>
			<th> 选择 </th>
            <th> 序号 </th>
            <th> 任务编号 </th>
            <th> 任务名称 </th>
            <th> 交易名称 </th>
            <th> 执行顺序 </th>
            <th> 是否生效 </th>
            <th> 退出策略 </th>
            <th> 错误阈值 </th>
            <th> 是否可重复 </th>
            <th> 执行周期 </th>
            <th> 执行类名 </th>
            <th> 线程数量 </th>
          </tr>
        </thead>
        <tbody>
          {{#each page.content}}
          <tr> <td>
                <label for="id_{{page-rowindex}}">
                    <input
                            id="id_{{page-rowindex}}"
                            data-id="{{taskId}}"
                            name="radio"
                            type="radio">
                </label>
            </td>
            <td> {{page-rowindex}} </td>
            <td> {{taskId}} </td>
            <td> {{taskNa}} </td>
            <td> {{txNo-text}} </td>
            <td> {{exOr}} </td>
            <td> {{ynAv-text}} </td>
            <td> {{enTp-text}} </td>
            <td> {{enQt}} </td>
            <td> {{ynRp-text}} </td>
            <td> {{exCd-text}} </td>
            <td> {{exFn}} </td>
            <td> {{thQt}} </td>
          </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    {{{{/raw}}}}
    {{> pager}}
  </script>
<!-- @Override -->
{{/content}}
<!-- pagination-free END-->

<!-- 页面组件模板 -->
{{#content "content-component"}}
  <script type="text/x-handlebars-template" id="form-template">
  {{{{raw}}}}
         <form class="bsdForm">
              <div class="form-group">
                <label class=" control-label fill">任务编号:</label>
                <div >
                  <input name="taskId" type="text" class="form-control letterOrDigit required" maxlength='10' onkeyup="this.value = this.value.toUpperCase();"    placeholder="请输入任务名称...">
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">任务名称:</label>
                <div >
                  <input name="taskNa" type="text" class="form-control required" maxlength='40' placeholder="请输入任务名称...">
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">交易码:</label>
                <div >
                  <!--<input name="txNo" type="text" class="form-control required " maxlength='10' placeholder="请输入交易码...">-->
				<select name="txNo" class="form-control select-txNo " 
               	  		data-selectloader-store="txNoList"
              		  	data-selectloader-vkey="code" data-selectloader-tkey="name">
           		        <option value="">请选择...</option>
				</select>
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">执行顺序:</label>
                <div >
                  <input name="exOr" type="text" class="form-control required digits" maxlength='32'  placeholder="请输入执行顺序...">
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">是否生效:</label>
                <div >
                   <select name="ynAv" class="form-control select-ynAv required "
                          data-selectloader-store="ynAvList"
                          data-selectloader-vkey="code" data-selectloader-tkey="name">
                         <option value="">请选择...</option>
                   </select>
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">退出策略:</label>
                <div >
                  <select name="enTp" class="form-control select-enTp required "
                          data-selectloader-store="enTpList"
                          data-selectloader-vkey="code" data-selectloader-tkey="name">
                         <option value="">请选择...</option>
                   </select>
                </div>
              </div>
              <div class="form-group">
                <label class="control-label fill">错误阈值:</label>
                <div >
                  <input name="enQt" type="text" class="form-control digits required" maxlength='32'  placeholder="请输入错误阈值...">
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">是否可重复:</label>
                <div >
                  <select name="ynRp" class="form-control select-ynRp required "
                          data-selectloader-store="ynRpList"
                          data-selectloader-vkey="code" data-selectloader-tkey="name">
                         <option value="">请选择...</option>
                   </select>
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">执行周期:</label>
                <div >
				  <select name="exCd" class="form-control select-exCd required"
                          data-selectloader-store="exCdList"
                          data-selectloader-vkey="code" data-selectloader-tkey="name">
                         <option value="">请选择...</option>
                   </select>
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">执行类名:</label>
                <div >
                  <input name="exFn" type="text" class="form-control required" maxlength='40' placeholder="请输入执行类名...">
                </div>
              </div>
              <div class="form-group">
                <label class=" control-label fill">线程数量:</label>
                <div >
                  <input name="thQt" type="text" class="form-control digits required" maxlength='32' placeholder="请输入线程数量...">
                </div>
              </div>
          </form>
		{{{{/raw}}}}
  </script>
{{/content}}

{{/extend}}