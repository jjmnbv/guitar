{{#extend "main"}}

    <!-- 页面meta  作者，关键字，描述 -->
    {{#content "meta"}}
        <meta content="" name="description"/>
        <meta content="" name="author"/>
        <meta content="" name="keyword"/>
    {{/content}}

    <!-- 页面 title -->
    {{#content "title"}}
        <title>贷款减免明细表管理</title>
    {{/content}}

    <!-- css插件 -->
    {{#content "css-plugins"}}
        <!-- @Override -->
    {{/content}}

    <!-- 自定义css -->
    {{#content "css-main"}}
        <link rel="stylesheet" href="{{path.app}}/css/cc/common-form.css"/>
        <link rel="stylesheet" href="{{path.app}}/css/cc/modal-form.css"/>
        <link rel="stylesheet" href="{{path.app}}/css/cc/loan/lnrrdtl-edit.css"/>
        <!-- @Override -->
    {{/content}}

    <!-- 首屏渲染数据js-loader -->
    {{#content "js-loader"}}
        <script src="{{path.base}}/script/cc/loan/lnrrdtl.js"></script>
        <script src="{{path.base}}/script/cc/dicts?ids=3002,3016"></script>
    {{/content}}

    <!-- js插件 -->
    {{#content "js-plugins"}}
        <!-- @Override -->
    {{/content}}

    <!-- 自定义js -->
    {{#content "js-main"}}
        <script src="{{path.app}}/js/cc/common/app-context.js"></script>
        <script src="{{path.app}}/js/cc/loan/lnrrdtl.js"></script>
        <script src="{{path.app}}/js/cc/loan/urls.js"></script>
    {{/content}}

    <!-- 页面主体 -->
    {{#content "content-main"}}
        {{{{raw}}}}
        <div class="portlet" >
            <div class="portlet-body">
                <form action="/LNRRINF_UPDATE"  class="bsdForm pagination-form" id="lnRinfEditForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="control-label fill">授权编号:</label>
                            <div>
                                <input name="athNo" type="text" class="form-control input-sm required" id="athNo-trad" maxlength="20" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">授权状态:</label>
                            <div>
                                <select name="athInd" class="form-control athInd required"
                                        data-selectloader-store="athIndList"
                                        data-selectloader-vkey="code" data-selectloader-tkey="name">
                                    <option value="">请选择...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">借据号:</label>
                            <div>
                                <input name="loNo" type="text" class="form-control input-sm required"  id="lono" maxlength="32" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group form-group-sel single form-hide">
                            <label class="control-label fill">交易日期:</label>
                            <div class="selBox">
                                <div class="input-group input-medium date date-picker-page" data-date="+0d"
                                     data-date-format="yyyy-dd-mm" data-date-viewmode="years"
                                     data-date-language="zh-CN">
                                    <input name="trDt" type="text"  id="trDt"  class="form-control uniform-input trDt required" readonly>
                                    <span class="input-group-btn">
                             <button class="btn default" type="button">
                                 <i class="fa fa-calendar"></i>
                             </button>
                     		</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label ">减免总金额:</label>
                            <div >
                                <input name="rrTolAmt" type="hidden"  maxlength="16">
                                <input name="rrTolAmt1" type="text" class="form-control input-sm"  id="rrTolAmt1" maxlength="16" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">减免本金:</label>
                            <div>
                                <input name="rrPrAmt" type="hidden"  maxlength="16" >
                                <input name="rrPrAmt1" type="text" class="form-control input-sm"  id="rrPrAmt1" maxlength="16" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label ">减免利息:</label>
                            <div >
                                <input name="rrInAmt" type="hidden"  maxlength="16" >
                                <input name="rrInAmt1" type="text" class="form-control input-sm"  id="rrInAmt1" maxlength="16" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label ">减免罚息:</label>
                            <div >
                                <input name="rrOvInAmt" type="hidden" maxlength="16">
                                <input name="rrOvInAmt1" type="text" class="form-control input-sm"  id="rrOvInAmt1" maxlength="16" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label ">减免复利:</label>
                            <div >
                                <input name="rrCmInAmt" type="hidden"  maxlength="16">
                                <input name="rrCmInAmt1" type="text" class="form-control input-sm"  id="rrCmInAmt1" maxlength="16" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label ">减免费用:</label>
                            <div >
                                <input name="rrFeeAmt" type="hidden"  maxlength="16">
                                <input name="rrFeeAmt1" type="text" class="form-control input-sm"  id="rrFeeAmt1" maxlength="16" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group input-trial">
                            <label class="control-label">欠款金额:</label>
                            <div>
                                <input name="needPayAm" type="text" class="form-control needPayAm" placeholder="请输入欠款金额..." readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group input-trial">
                            <label class="control-label">欠款本金:</label>
                            <div>
                                <input name="needPayPrAmt" type="text" class="form-control needPayPrAmt" placeholder="请输入欠款本金..."  readonly="readonly" >
                            </div>
                        </div>
                        <div class="form-group input-trial">
                            <label class="control-label">欠款利息:</label>
                            <div>
                                <input name="needPayInAmt" type="text" class="form-control needPayInAmt" placeholder="请输入欠款利息..." readonly="readonly" >
                            </div>
                        </div>
                        <div class="form-group input-trial">
                            <label class="control-label">欠款罚息:</label>
                            <div>
                                <input name="needPayOdInAmt" type="text" class="form-control needPayOdInAmt" placeholder="请输入欠款罚息..." readonly="readonly" >
                            </div>
                        </div>
                        <div class="form-group input-trial">
                            <label class="control-label">欠款复利:</label>
                            <div>
                                <input name="needPayCmInAmt" type="text" class="form-control needPayCmInAmt" placeholder="请输入欠款复利..." readonly="readonly" >
                            </div>
                        </div>
                        <div class="form-group input-trial">
                            <label class="control-label">欠款费用:</label>
                            <div>
                                <input name="needPayFeeAmt" type="text" class="form-control needPayFeeAmt" placeholder="请输入欠款本金..." readonly="readonly" >
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">减免说明:</label>
                            <div>
                                <textarea name="rrDesc"   class="form-control  required" placeholder="请输入减免说明..."  maxlength="200"  wrap="hard"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">是否减免本金:</label>
                            <div>
                                <select name="rrPrInd" class="form-control rrPrInd"
                                        data-selectloader-store="rrPrInd"
                                        data-selectloader-vkey="code" data-selectloader-tkey="name">
                                    <option value="">请选择...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">机构号:</label>
                            <div>
                                <input name="brNo" type="text" class="form-control input-sm" maxlength="10" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">用户号:</label>
                            <div>
                                <input name="laUsId" type="text" class="form-control input-sm" maxlength="10" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group form-group-sel single form-hide">
                            <label class="control-label ">申请日期:</label>
                            <div class="selBox setTimeGray">
                                <div class="input-group input-medium date date-picker-page" data-date="+0d"
                                     data-date-format="yyyy-dd-mm" data-date-viewmode="years"
                                     data-date-language="zh-CN">
                                    <input name="laUpDt" type="text" class="form-control uniform-input text" readonly>
                                    <span class="input-group-btn">
				                       <button class="btn default" type="button">
				                           <i class="fa fa-calendar"></i>
				                       </button>
	                              	</span>
                                </div>
                            </div>
                        </div>
                        <div class="portlet-body center">
                            <div class="clearfix">
                                <button type="button" class="btn blue mainCol" id="loanCalc">查看当前欠款</button>
                                <button class="btn sky-blue btn-wid mainCol" type="button" id="btn1">保存</button>
                                <button class="btn sky-blue btn-wid mainCol" type="button" id="trade" >交易</button>
                                <button class="btn sky-blue btn-wid mainCol cancle" type="button" onclick="returnpage()">返回</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        {{{{/raw}}}}
        <!-- @Override -->
        {{/content}}

        <!-- 分页查询条件 pagination-form -->
        {{#content "pagination-form"}}
        <!-- @Override -->
        <form role="form" class="bsdForm pagination-form" id="pagDemand" >
            <div class="form-row">
                <div class="form-group">
                    <label class="control-label ">流水号:</label>
                    <div>
                        <input name="athNo" type="text"  id="athNol"  class="form-control" readonly="readonly">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label ">借据号:</label>
                    <div>
                        <input name="loNo" type="text"  id="loNol"  class="form-control" >
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label ">还款期数:</label>
                    <div>
                        <input name="perQt" type="text" class="form-control">
                    </div>
                </div>
            </div>
        </form>
        {{/content}}
        <!-- pagination-form END -->

        <!-- 分页表格和分页页码 pagination-container -->
        {{#content "pagination-container"}}
        <div class="portlet-title">
            <div class="caption">贷款减免明细表列表 </div>
            <div class="actions">
                <a id="edit" href="javascript:;" title="编辑" class="update-sign"></a>
                <a id="save" href="javascript:;" title="保存" class="save-sign"></a>
                <a id="delete-child" href="javascript:;" title="删除" class="delete-sign"></a>
            </div>
        </div>
        <div class="portlet-body">
            <div class="tabbable tabbable-tabdrop">
                <div class="portlet-body pagination-container"
                     data-page-first-store="first-store"
                     data-page-url="/LNRRDTL_PAGE"
                     data-page-template-id="lnrrdtl-page-template">
                </div>
            </div>
        </div>
        <!-- @Override -->
        {{/content}}
        <!-- pagination-container END -->

        <!-- 页面模态框 -->
        {{#content "content-free"}}

        <script type="text/x-handlebars-template" id="lnrrdtl-page-template">
            {{{{raw}}}}
            <div class="table-scrollable">
                <table class="table table-striped table-bordered table-hover" id="update-lnrrinf-table">
                    <thead>
                    <tr>
                        <th> 选择</th>
                        <th> 减免总金额 </th>
                        <th> 还款期数 </th>
                        <th> 应还本金 </th>
                        <th> 已还本金 </th>
                        <th> 已减免本金 </th>
                        <th> 减免本金  </th>
                        <th> 本金积数 </th>
                        <th> 本次减免本金积数 </th>
                        <th> 应还利息 </th>
                        <th> 已还利息 </th>
                        <th> 已减免利息 </th>
                        <th> 减免利息 </th>
                        <th> 利息积数 </th>
                        <th> 本次减免利息积数 </th>
                        <th> 应还罚息 </th>
                        <th> 已还罚息 </th>
                        <th> 已减免罚息 </th>
                        <th> 减免罚息 </th>
                        <th> 罚息积数 </th>
                        <th> 本次减免罚息积数 </th>
                        <th> 应还复利 </th>
                        <th> 已还复利 </th>
                        <th> 已减免复利 </th>
                        <th> 减免复利 </th>
                        <th> 复利积数 </th>
                        <th> 本次减免复利积数 </th>
                        <th> 应还费用 </th>
                        <th> 已还费用 </th>
                        <th> 已减免费用 </th>
                        <th> 减免费用 </th>
                        <th> 费用积数 </th>
                        <th> 本次减免费用积数 </th>
                    </tr>
                    </thead>
                    <tbody>
                    {{#each page.content}}
                    <tr>
                        <td>
                            <label for="id_{{page-rowindex}}">
                                <input
                                        id="id_{{page-rowindex}}"
                                        data-id="athNo={{athNo}}&subNo={{subNo}}"
                                        data-athNo="{{athNo}}"
                                        data-subNo="{{subNo}}"
                                        data-pdPrAmt="{{pdPrAmt}}"
                                        data-pdInAmt="{{pdInAmt}}"
                                        data-prAmt="{{prAmt}}"
                                        data-inAmt="{{inAmt}}"
                                        data-ovInAmt="{{ovInAmt}}"
                                        data-cmInAmt="{{cmInAmt}}"
                                        data-feeAmt="{{feeAmt}}"
                                        data-payPrAmt="{{payPrAmt}}"
                                        data-payInAmt="{{payInAmt}}"
                                        data-payOvInAmt="{{payOvInAmt}}"
                                        data-payCmInAmt="{{payCmInAmt}}"
                                        data-payFeeAmt="{{payFeeAmt}}"

                                        data-oldRrPrAmt="{{oldRrPrAmt}}"
                                        data-oldRrInAmt="{{oldRrInAmt}}"
                                        data-oldRrOvInAmt="{{oldRrOvInAmt}}"
                                        data-oldRrCmInAmt="{{oldRrCmInAmt}}"
                                        data-oldRrFeeAmt="{{oldRrFeeAmt}}"
                                        data-pdOvInAmt="{{pdOvInAmt}}"
                                        data-pdCmInAmt="{{pdCmInAmt}}"
                                        data-pdFeeAmt="{{pdFeeAmt}}"
                                        name="radio"
                                        type="radio">
                            </label>
                        </td>
                        <td> {{formatMoney rrTolAmt}} </td>
                        <td> {{perQt}} </td>
                        <td> {{formatMoney prAmt}} </td>
                        <td> {{formatMoney payPrAmt}} </td>
                        <td> {{formatMoney oldRrPrAmt}} </td>
                        <td class="td-rrPrAmt td-special">
                            <span>{{formatMoneySpecial rrPrAmt}}</span>
                            <input type="hidden" name="rrPrAmt" class="moreZero" id="rrPrAmt" value="{{rrPrAmt}}">
                            <input type="text" class="form-control input-sm rrPrAmtl moreZero edit-input-hidden" name="rrPrAmtl" id="rrPrAmtl" value="{{formatMoneySpecial rrPrAmt}}" >
                        </td>
                        <td> {{formatMoney pdPrAmt}}</td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrPdPrAmt}}</span>
                            <input type="hidden" name="rrPdPrAmt" id="rrPdPrAmt" value="{{rrPdPrAmt}}">
                            <input type="text" class="form-control input-sm rrPdPrAmtl edit-input-hidden" name="rrPdPrAmtl" id="rrPdPrAmtl" value="{{formatMoneySpecial rrPdPrAmt}}" >
                        </td>
                        <td> {{formatMoney inAmt}} </td>
                        <td> {{formatMoney payInAmt}} </td>
                        <td> {{formatMoney oldRrInAmt}} </td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrInAmt}}</span>
                            <input type="hidden" name="rrInAmt" id="rrInAmt" value="{{rrInAmt}}">
                            <input type="text" class="form-control input-sm rrInAmtl edit-input-hidden" name="rrInAmtl" id="rrInAmtl" value="{{formatMoneySpecial rrInAmt}}" >
                        </td>
                        <td> {{formatMoney pdInAmt}} </td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrPdInAmt}}</span>
                            <input type="hidden" name="rrPdInAmt" id="rrPdInAmt" value="{{rrPdInAmt}}">
                            <input type="text" class="form-control input-sm rrPdInAmtl edit-input-hidden" name="rrPdInAmtl" id="rrPdInAmtl" value="{{formatMoneySpecial rrPdInAmt}}" >
                        </td>

                        <td> {{formatMoney ovInAmt}} </td>
                        <td> {{formatMoney payOvInAmt}} </td>
                        <td> {{formatMoney oldRrOvInAmt}} </td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrOvInAmt}}</span>
                            <input type="hidden" name="rrOvInAmt" id="rrOvInAmt" value="{{rrOvInAmt}}">
                            <input type="text" class="form-control input-sm rrOvInAmtl edit-input-hidden" name="rrOvInAmtl" id="rrOvInAmtl" value="{{formatMoneySpecial rrOvInAmt}}" >
                        </td>
                        <td> {{formatMoney pdOvInAmt}} </td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrPdOvInAmt}}</span>
                            <input type="hidden" name="rrPdOvInAmt" id="rrPdOvInAmt" value="{{rrPdOvInAmt}}">
                            <input type="text" class="form-control input-sm rrPdOvInAmtl edit-input-hidden" name="rrPdOvInAmtl" id="rrPdOvInAmtl" value="{{formatMoneySpecial rrPdOvInAmt}}" >
                        </td>

                        <td> {{formatMoney cmInAmt}} </td>
                        <td> {{formatMoney payCmInAmt}} </td>
                        <td> {{formatMoney oldRrCmInAmt}} </td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrCmInAmt}}</span>
                            <input type="hidden" name="rrCmInAmt" id="rrCmInAmt" value="{{rrCmInAmt}}">
                            <input type="text" class="form-control input-sm rrCmInAmtl edit-input-hidden" name="rrCmInAmtl" id="rrCmInAmtl" value="{{formatMoneySpecial rrCmInAmt}}" >
                        </td>
                        <td> {{formatMoney pdCmInAmt}} </td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrPdCmInAmt}}</span>
                            <input type="hidden" name="rrPdCmInAmt" id="rrPdCmInAmt" value="{{rrPdCmInAmt}}">
                            <input type="text" class="form-control input-sm rrPdCmInAmtl edit-input-hidden" name="rrPdCmInAmtl" id="rrPdCmInAmtl" value="{{formatMoneySpecial rrPdCmInAmt}}" >
                        </td>

                        <td> {{formatMoney feeAmt}} </td>
                        <td> {{formatMoney payFeeAmt}} </td>
                        <td> {{formatMoney oldRrFeeAmt}} </td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrFeeAmt}}</span>
                            <input type="hidden" name="rrFeeAmt" id="rrFeeAmt" value="{{rrFeeAmt}}">
                            <input type="text" class="form-control input-sm rrFeeAmtl  jinE edit-input-hidden" name="rrFeeAmtl" id="rrFeeAmtl" value="{{formatMoneySpecial rrFeeAmt}}" >
                        </td>
                        <td> {{formatMoney pdFeeAmt}} </td>
                        <td class="td-rrPrAmt">
                            <span>{{formatMoneySpecial rrPdFeeAmt}}</span>
                            <input type="hidden" name="rrPdFeeAmt" id="rrPdFeeAmt" value="{{rrPdFeeAmt}}">
                            <input type="text" class="form-control input-sm rrPdFeeAmtl  jinE edit-input-hidden" name="rrPdFeeAmtl" id="rrPdFeeAmtl" value="{{formatMoneySpecial rrPdFeeAmt}}" >
                        </td>

                    </tr>
                    {{/each}}
                    </tbody>
                </table>
            </div>
{{{{/raw}}}}
    {{> pager}}
</script>


<!-- @Override -->
{{/content}}
<!-- pagination-free END-->
<!-- 页面组件模板 -->
{{#content "content-component"}}
{{/content}}
{{/extend}}