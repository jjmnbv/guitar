<!-- 此文件作为基础开发文件，需要开发新页面时，直接复制到相应位置，重命名即可 -->
{{#extend "main"}}

    <!-- 页面meta  作者，关键字，描述 -->
    {{#content "meta"}}
        <meta content="" name="description"/>
        <meta content="" name="author"/>
        <meta content="" name="keyword"/>
    {{/content}}

    <!-- 页面 title -->
    {{#content "title"}}
        <title>{{path.platform}}{{path.subSystem}}新增额度审批</title>
    {{/content}}

    <!-- css插件 -->
    {{#content "css-plugins"}}

    {{/content}}

    <!-- 自定义css -->
    {{#content "css-main"}}
        <link rel="stylesheet" href="{{path.app}}/css/common-form.css">
        <link rel="stylesheet" href="{{path.app}}/css/limit-examine/limit-examine-common.css">
    {{/content}}

    <!-- 首屏渲染数据js-loader -->
    {{#content "js-loader"}}
        <script src="{{path.base}}/script/cs/addlotusamount"></script>
    {{/content}}

    <!-- js插件 -->
    {{#content "js-plugins"}}
        <!-- @Override -->
    {{/content}}

    <!-- 自定义js -->
    {{#content "js-main"}}
        <script src="{{path.app}}/js/cs/limit-examine/add-limit-examine.js"></script>
        <script src="{{path.app}}/js/auth-judge.js"></script>
    {{/content}}

    <!-- 页面主体 -->
    {{#content "content-main"}}
        <div>
            <form action="" class="bsdForm form-horizontal" id="details-form" data-link="limit-examine-list.html">
                <div class="portlet box reg">
                    <div class="portlet-title">
                        <div class="caption">
                            新增额度审批
                        </div>
                    </div>
                    <div class="portlet-body tabs-below">
                        <div class="form-group">
                            <label class="control-label fill" for="code">审批额度编号</label>
                            <div>
                                <input type="text" class="form-control required" name="code" id="code" readonly>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill" for="name">审批额度名称</label>
                            <div>
                                <input type="text" class="form-control required" name="name" id="name" maxlength="30">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="portlet box reg">
                    <div class="portlet-title">
                        <div class="caption">岗位授权</div>
                        <div class="actions">
                            <a id="jobAdd" href="javascript:;" title="新增" class="add-sign"></a>
                            <a id="jobDelete" href="javascript:;" title="删除" class="delete-sign"></a>
                        </div>
                    </div>
                    <div class="portlet-body tabs-below">
                        <div class="table-scrollable">
                            <table class="table table-striped table-bordered table-hover bsdForm" id="jobTable">
                                <thead>
                                <tr>
                                    <th width="10%">选择</th>
                                    <th width="18%">序号</th>
                                    <th width="18%">岗位编号</th>
                                    <th width="18%">岗位名称</th>
                                    <th width="18%">最小金额</th>
                                    <th width="18%">最大金额</th>
                                </tr>
                                </thead>
                                <tbody id="jobTableBody" class="tableBody">
                                <tr>
                                    <td class="form-group">
                                        <label>
                                            <input
                                                    id="0"
                                                    data-id="0"
                                                    name="jobRadio"
                                                    type="radio">
                                        </label>
                                    </td>
                                    <td class="form-group" data-index>
                                        1
                                    </td>
                                    <td class="form-group">
                                        <input type="text" class="form-control" data-listener-select-target="#byName_0"
                                               data-listener-key="postNo" id="byNo_0" name="lotusAmountPost[0].byNo"
                                               readonly>
                                    </td>
                                    <td class="form-group">
                                        <select id="byName_0"
                                                name="lotusAmountPost[0].byName"
                                                class="form-control required selectExe"
                                                data-selectloader-store="jobName"
                                                data-selectloader-vkey="postNo"
                                                data-selectloader-tkey="postNa">
                                            <option value="">请选择...</option>
                                        </select>
                                    </td>
                                    <td class="form-group">
                                        <div class="shell">
                                            <input type="text"
                                                   class="form-control moneyMax bindEvent required ltRelateMon minMoney"
                                                   data-gtRelateMon="maxAmount_0"
                                                   id="minAmount_0" name="lotusAmountPost[0].minAmountRe">
                                            <input type="hidden" name="lotusAmountPost[0].minAmount">
                                        </div>
                                        <div class="shell-text">
                                            <span>元</span>
                                        </div>
                                    </td>
                                    <td class="form-group">
                                        <div class="shell">
                                            <input type="text"
                                                   class="form-control moneyMax bindEvent required gtRelateMon minMoney"
                                                   data-ltRelateMon="minAmount_0"
                                                   id="maxAmount_0" name="lotusAmountPost[0].maxAmountRe">
                                            <input type="hidden" name="lotusAmountPost[0].maxAmount">
                                        </div>
                                        <div class="shell-text">
                                            <span>元</span>
                                        </div>

                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="portlet box reg">
                    <div class="portlet-title">
                        <div class="caption">用户授权</div>
                        <div class="actions">
                            <a id="userAdd" href="javascript:;" title="新增" class="add-sign"></a>
                            <a id="userDelete" href="javascript:;" title="删除" class="delete-sign"></a>
                        </div>
                    </div>
                    <div class="portlet-body tabs-below">
                        <div class="table-scrollable">
                            <table class="table table-striped table-bordered table-hover bsdForm" id="userTable">
                                <thead>
                                <tr>
                                    <th width="10%">选择</th>
                                    <th width="18%">序号</th>
                                    <th width="18%">登录用户名</th>
                                    <th width="18%">姓名</th>
                                    <th width="18%">最小金额</th>
                                    <th width="18%">最大金额</th>
                                </tr>
                                </thead>
                                <tbody id="userTableBody" class="tableBody">
                                <tr>
                                    <td class="form-group">
                                        <label>
                                            <input
                                                    id="0"
                                                    data-id="0"
                                                    name="userRadio"
                                                    type="radio">
                                        </label>
                                    </td>
                                    <td class="form-group" data-index>
                                        1
                                    </td>
                                    <td class="form-group">
                                        <select id="byNo_0"
                                                name="lotusAmountUser[0].byNo"
                                                class="form-control required selectExe"
                                                data-selectloader-store="limitexamine"
                                                data-selectloader-vkey="id"
                                                data-selectloader-tkey="loginNa"
                                                data-uer-na="#byNo_0">
                                            <option value="">请选择...</option>
                                        </select>
                                    </td>
                                    <td class="form-group">
                                        <input type="text" class="form-control" id="byName"
                                               data-listener-select-target="#byNo_0"
                                               data-listener-key="usNa" name="lotusAmountUser[0].byName"
                                               readonly>
                                    </td>
                                    <td class="form-group">
                                        <div class="shell">
                                            <input type="text"
                                                   class="form-control required moneyMax bindEvent ltRelateMon minMoney"
                                                   data-gtRelateMon="lotusAmountUser0_maxAmountRe"
                                                   id="lotusAmountUser0_minAmountRe"
                                                   name="lotusAmountUser[0].minAmountRe">
                                            <input type="hidden" name="lotusAmountUser[0].minAmount">
                                        </div>
                                        <div class="shell-text">
                                            <span>元</span>
                                        </div>
                                    </td>
                                    <td class="form-group">
                                        <div class="shell">
                                            <input type="text"
                                                   class="form-control bindEvent moneyMax required gtRelateMon minMoney"
                                                   data-ltRelateMon="lotusAmountUser0_minAmountRe"
                                                   id="lotusAmountUser0_maxAmountRe"
                                                   name="lotusAmountUser[0].maxAmountRe">
                                            <input type="hidden" name="lotusAmountUser[0].maxAmount">
                                        </div>
                                        <div class="shell-text">
                                            <span>元</span>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="portlet-body center">
                    <div class="clearfix">
                        <button type="button" id="commit" class="btn sky-blue btn-wid mainCol">确定</button>
                        <a class="btn sky-blue btn-wid mainCol" href="limit-examine-list.html">返回</a>
                    </div>
                </div>
            </form>
        </div>



    {{/content}}

    <!-- 搜索按钮组，筛选条件，表格，分页的总容器 -->
    {{#content "content-pagination"}}
        <!-- @Override -->
    {{/content}}


    <!-- 页面模态框 -->
    {{#content "content-free"}}
        <div class="modal fade bs-modal-sm" id="errorMES" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                        <h4 class="modal-title">提示信息</h4>
                    </div>
                    <div class="modal-body">最后一行不能删除！</div>
                    <div class="modal-footer">
                        <button type="button" class="btn blue" data-dismiss="modal">确定</button>
                    </div>
                </div>
            </div>
        </div>
    {{/content}}

    <!-- 页面组件模板 -->
    {{#content "content-component"}}
        <script type="text/x-handlebars-template" id="table-row1-template">
            {{{{raw}}}}
                <tr>
                    <td class="form-group">
                        <label>
                            <input
                                    id="id_{{listIndex index}}"
                                    data-id="{{listIndex index}}"
                                    name="jobRadio"
                                    type="radio">
                        </label>
                    </td>
                    <td class="form-group" data-index>
                        {{index}}
                    </td>
                    <td class="form-group">
                        <input type="text" class="form-control"
                               data-listener-select-target="#byName_{{listIndex index}}"
                               data-listener-key="postNo" id="byNo_{{listIndex index}}"
                               name="lotusAmountPost[{{listIndex index}}].byNo" readonly>
                    </td>
                    <td class="form-group">
                        <select id="byName_{{listIndex index}}"
                                name="lotusAmountPost[{{listIndex index}}].byName"
                                class="form-control required selectExe"
                                data-selectloader-store="jobName"
                                data-selectloader-vkey="postNo"
                                data-selectloader-tkey="postNa">
                            <option value="">请选择...</option>
                        </select>
                    </td>
                    <td class="form-group">
                        <div class="shell">
                            <input type="text" class="form-control moneyMax bindEvent required ltRelateMon minMoney"
                                   data-gtRelateMon="maxAmount_{{listIndex index}}"
                                   id="minAmount_{{listIndex index}}"
                                   name="lotusAmountPost[{{listIndex index}}].minAmountRe">
                            <input type="hidden" name="lotusAmountPost[{{listIndex index}}].minAmount">
                        </div>
                        <div class="shell-text">
                            <span>元</span>
                        </div>

                    </td>
                    <td class="form-group">
                        <div class="shell">
                            <input type="text" class="form-control moneyMax bindEvent required gtRelateMon minMoney"
                                   data-ltRelateMon="minAmount_{{listIndex index}}"
                                   id="maxAmount_{{listIndex index}}"
                                   name="lotusAmountPost[{{listIndex index}}].maxAmountRe">
                            <input type="hidden" name="lotusAmountPost[{{listIndex index}}].maxAmount">
                        </div>
                        <div class="shell-text">
                            <span>元</span>
                        </div>

                    </td>
                </tr>
            {{{{/raw}}}}
        </script>

        <script type="text/x-handlebars-template" id="table-row2-template">
            {{{{raw}}}}
            <tr>
                <td class="form-group">
                    <label>
                        <input
                                id="id_{{listIndex index}}"
                                data-id="{{listIndex index}}"
                                name="userRadio"
                                type="radio">
                    </label>
                </td>
                <td class="form-group" data-index>
                    {{index}}
                </td>
                <td class="form-group">
                    <select id="byNo_{{listIndex index}}"
                            name="lotusAmountUser[{{listIndex index}}].byNo"
                            class="form-control required selectExe"
                            data-selectloader-store="limitexamine"
                            data-selectloader-vkey="id"
                            data-selectloader-tkey="loginNa"
                            data-uer-na="#byNo_{{listIndex index}}">
                        <option value="">请选择...</option>
                    </select>
                </td>
                <td class="form-group">
                    <input type="text" class="form-control" id="byName"
                           data-listener-select-target="#byNo_{{listIndex index}}"
                           data-listener-key="usNa" name="lotusAmountUser[{{listIndex index}}].byName" readonly>
                </td>
                <td class="form-group">
                    <div class="shell">
                        <input type="text" class="form-control moneyMax required bindEvent ltRelateMon minMoney"
                               data-gtRelateMon="lotusAmountUser{{listIndex index}}_maxAmountRe"
                               id="lotusAmountUser{{listIndex index}}_minAmountRe"
                               name="lotusAmountUser[{{listIndex index}}].minAmountRe">
                        <input type="hidden" name="lotusAmountUser[{{listIndex index}}].minAmount">
                    </div>
                    <div class="shell-text">
                        <span>元</span>
                    </div>
                </td>
                <td class="form-group">
                    <div class="shell">
                        <input type="text" class="form-control moneyMax required bindEvent gtRelateMon minMoney"
                               data-ltRelateMon="lotusAmountUser{{listIndex index}}_minAmountRe"
                               id="lotusAmountUser{{listIndex index}}_maxAmountRe"
                               name="lotusAmountUser[{{listIndex index}}].maxAmountRe">
                        <input type="hidden" name="lotusAmountUser[{{listIndex index}}].maxAmount">
                    </div>
                    <div class="shell-text">
                        <span>元</span>
                    </div>
                </td>
            </tr>
{{{{/raw}}}}
</script>

{{/content}}

{{/extend}}