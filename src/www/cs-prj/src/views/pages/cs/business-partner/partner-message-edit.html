<!-- 此文件作为基础开发文件，需要开发新页面时，直接复制到相应位置，重命名即可 -->
{{#extend "main"}}

    <!-- 页面meta  作者，关键字，描述 -->
    {{#content "meta"}}
        <meta content="" name="description"/>
        <meta content="" name="author"/>
        <meta content="" name="keyword"/>
    {{/content}}

    <!-- 页面 title -->
    {{#content "title"}}
        <title>{{path.platform}}{{path.subSystem}}编辑合作商详细信息</title>
    {{/content}}

    <!-- css插件 -->
    {{#content "css-plugins"}}
    {{/content}}

    <!-- 自定义css -->
    {{#content "css-main"}}
        <link rel="stylesheet" href="{{path.app}}/css/common-form.css">
        <link rel="stylesheet" href="{{path.app}}/css/modal-form.css">
        <link rel="stylesheet" href="{{path.app}}/css/business-partner/add-details.css">
    {{/content}}

    <!-- 首屏渲染数据js-loader -->
    {{#content "js-loader"}}
        <!--<script src="{{path.base}}/script/region-data.js"></script>-->
        <script src="{{path.base}}/script/cs/findallprovince"></script>
        <script src="{{path.base}}/script/cs/dicts?ids=128,129,131,132,65,17,142"></script>
        <script src="{{path.base}}/script/cs/cscoocubupdatehzs"></script>
    {{/content}}

    <!-- js插件 -->
    {{#content "js-plugins"}}
    {{/content}}

    <!-- 自定义js -->
    {{#content "js-main"}}
        <script src="{{path.app}}/js/cs/business-partner/common.js"></script>
        <script src="{{path.app}}/js/cs/business-partner/partner-message-edit.js"></script>
    {{/content}}

    <!-- 页面主体 -->
    {{#content "content-main"}}
        <div id="main-cont">

        </div>

    {{/content}}

    <!-- 搜索按钮组，筛选条件，表格，分页的总容器 -->
    {{#content "content-pagination"}}
        <!-- @Override -->
    {{/content}}

    <!-- 页面模态框 -->
    {{#content "content-free"}}
    {{/content}}
    <!-- 页面组件模板 -->
    {{#content "content-component"}}
        <script type="text/x-handlebars-template" id="messagelist-page-template">
            {{{{raw}}}}
                <div class="table-scrollable">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                        <tr>
                            <th>选择</th>
                            <th>机构名称</th>
                            <th>机构编码</th>
                            <th>机构负责人</th>
                            <th>状态</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each page.content}}
                        <tr>

                            <td>
                                <label class="mt-radio">
                                    <input type="radio" name="choice" value="{{id}}"/>
                                    <span></span>
                                </label>
                            </td>
                            <td>{{organizationName}}</td>
                            <td>{{organizationCode}}</td>
                            <td>{{organizationManager}}</td>
                            <td>{{state}}</td>
                        </tr>
                        {{/each}}
                        </tbody>
                    </table>
                </div>
            {{{{/raw}}}}
            {{> pager}}
        </script>

        <script type="text/x-handlebars-template" id="managerlist-page-template">
            {{{{raw}}}}
            <div class="table-scrollable">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>选择</th>
                        <th>客户经理姓名</th>
                        <th>客户经理编码</th>
                        <th>状态</th>
                    </tr>
                    </thead>
                    <tbody>
                    {{#each page.content}}
                    <tr>
                        <td>
                            <label class="mt-radio">
                                <input type="radio" name="elect" value="{{id}}"/>
                                <span></span>
                            </label>
                        </td>
                        <td>{{managerName}}</td>
                        <td>{{managerCode}}</td>
                        <td>{{state}}</td>
                    </tr>
                    {{/each}}
                    </tbody>
                </table>
            </div>
{{{{/raw}}}}
    {{> pager}}
</script>


<script type="text/x-handlebars-template" id="main-cont-template">
    {{{{raw}}}}
    <form action="" class="bsdForm form-horizontal" id="details-form" data-link="partner-list.html">
        <div class="portlet box reg">
            <div class="portlet-title">
                <div class="caption">
                    基本信息
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse"> </a>
                </div>
            </div>
            <div class="portlet-body tabs-below">
                <div class="form-group ">
                    <label class="control-label fill">合作商编号</label>
                    <div>
                        <input type="text" class="form-control required" id="cooNo" name="cooNo" value="{{cooNo}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">合作商名称</label>
                    <div>
                        <input type="text" class="form-control required" id="cooNa" name="cooNa" value="{{cooNa}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">行业分类</label>
                    <div class="">
                        <select id="cooKiCd"
                                name="cooKiCd"
                                class="form-control required"
                                data-selectloader-store="classify"
                                data-selectloader-val="{{cooKiCd}}"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>
                <div class="form-group form-group-sel single">
                    <label class="control-label fill">合作开始时间</label>
                    <div class="selBox">
                        <div class="input-group input-medium date date-picker-page data-wid"
                             data-date-format="yyyy-dd-mm" data-date-viewmode="years"
                             data-date-language="zh-CN">
                            <input type="text" class="form-control required ltTimeValidate"
                                   data-gtTimeValidate="enDt"
                                   id="beDt" name="beDt" value="{{csCooCoBList.[0].beDt}}" readonly>
                                        <span class="input-group-btn hos-data">
                                                <button class="btn default" type="button">
                                                    <i class="fa fa-calendar"></i>
                                                </button>
                                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group form-group-sel single">
                    <label class="control-label fill">合作结束时间</label>
                    <div class="selBox">
                        <div class="input-group input-medium date date-picker-page"
                             data-date-format="yyyy-dd-mm" data-date-viewmode="years"
                             data-date-language="zh-CN">
                            <input type="text" class="form-control required gtTimeValidate"
                                   data-ltTimeValidate="beDt"
                                   id="enDt" name="enDt" value="{{csCooCoBList.[0].enDt}}" readonly>
                                        <span class="input-group-btn hos-data">
                                                <button class="btn default" type="button">
                                                    <i class="fa fa-calendar"></i>
                                                </button>
                                            </span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">行业性质</label>
                    <div class="">
                        <select id="cooNatCd"
                                name="cooNatCd"
                                class="form-control required"
                                data-selectloader-store="industry"
                                data-selectloader-val="{{cooNatCd}}"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label fill">佣金结算日</label>
                    <div class="">
                        <select id="comiSetlDa"
                                name="comiSetlDa"
                                class="form-control required"
                                data-selectloader-store="closeAccount"
                                data-selectloader-val="{{csCooCoBList.[0].comiSetlDa}}"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">结算类型</label>
                    <div class="">
                        <select id="comiPuCd"
                                name="comiPuCd"
                                class="form-control required"
                                data-selectloader-store="finalType"
                                data-selectloader-val="{{csCooCoBList.[0].comiPuCd}}"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">佣金方案</label>
                    <div class="">
                        <select id="comiId"
                                name="comiId"
                                class="form-control required"
                                data-selectloader-store="program"
                                data-selectloader-val="{{csCooCoBList.[0].comiId}}"
                                data-selectloader-vkey="id"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label fill">所属管理机构</label>
                    <div>
                        <input type="hidden" name="brNa" id="brNa" value="{{brNa}}">
                        <select id="brNo"
                                name="brNo"
                                class="form-control required"
                                data-selectloader-val="{{brNo}}"
                                data-selectloader-store="cuBrsList"
                                data-selectloader-vkey="maBrNo"
                                data-selectloader-tkey="maBrNa"
                                data-text-input="#brNa">
                            <option value="-1">请选择...</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label fill">客户经理</label>
                    <div>
                        <input type="hidden" name="cuMaNa" id="cuMaNa" value="{{cuMaNa}}">
                        <select id="cuMaUsId"
                                name="cuMaUsId"
                                class="form-control required"
                                data-selectloader-val="{{cuMaUsId}}"
                                data-selectloader-store="manager"
                                data-selectloader-vkey="id"
                                data-selectloader-tkey="usNa"
                                data-selectloader-append="0"
                                data-text-input="#cuMaNa">
                            <option value="">请选择...</option>
                        </select>
                        <input type="hidden" name="cuMaLoginNa" data-listener-select-target="#cuMaUsId"
                               data-listener-key="loginNa" value="{{cuMaLoginNa}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">保证金总额</label>
                    <div class="find">
                        <div class="line">
                            <input type="text" class="form-control moneyMax bindEvent required" id="guFeAm"
                                   value="{{csCooCoBList.[0].guFeAm}}">
                            <input type="hidden" name="guFeAm">
                        </div>
                        <div class="line-yuan">
                            <span class="unit">元</span>
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="control-label fill">合作协议号</label>
                    <div class="">
                        <input type="text" class="form-control required" id="coNo" name="coNo" maxlength="50"
                               value="{{csCooCoBList.[0].coNo}}" maxlength="32">
                    </div>
                </div>
            </div>
        </div>

        <div class="portlet box reg">
            <div class="portlet-title">
                <div class="caption">
                    联系信息
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse"> </a>
                </div>
            </div>
            <div class="portlet-body tabs-below">

                <div class="details-address">
                    <label class="fill control-label">合作商详细地址</label>
                    <div class="address clearfix">
                        <div class="conSelect clearfix">
                            <select id="provCd"
                                    name="provCd"
                                    class="required"
                                    data-selectloader-store="provinceList"
                                    data-selectloader-val="{{csCooCuAdBList.[0].provCd}}"
                                    data-selectloader-vkey="districtCode"
                                    data-selectloader-tkey="districtName"
                                    data-selectloader-nselect="#cityCd">
                                <option value="">请选择...</option>
                            </select>

                            <select id="cityCd"
                                    name="cityCd"
                                    class="required"
                                    data-selectloader-store="children"
                                    data-selectloader-val="{{csCooCuAdBList.[0].cityCd}}"
                                    data-selectloader-vkey="districtCode"
                                    data-selectloader-tkey="districtName"
                                    data-selectloader-nselect="#distCd">
                                <option value="">请选择...</option>
                            </select>

                            <select id="distCd"
                                    name="distCd"
                                    class="required"
                                    data-selectloader-store="children"
                                    data-selectloader-val="{{csCooCuAdBList.[0].distCd}}"
                                    data-selectloader-vkey="districtCode"
                                    data-selectloader-tkey="districtName">
                                <option value="">请选择...</option>
                            </select>
                        </div>
                        <input class="form-control required" type="text" name="adCa"
                               value="{{csCooCuAdBList.[0].adCa}}" maxlength="200">
                    </div>
                </div>

                {{#each csCooConBList}}
                {{#if (eq cuTyCd 'LX')}}
                <div class="form-group">
                    <label class="control-label fill">合作方联系人</label>
                    <div class="">
                        <input type="text" class="form-control required " id="hzsNa" name="hzsNa" value="{{na}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">联系电话</label>
                    <div class="">
                        <input type="text" class="form-control  required telNumber" id="hzsMoNo" name="hzsMoNo"
                               value="{{moNo}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label">电子邮箱</label>
                    <div class="">
                        <input type="text" class="form-control email" id="hzsMailNo" name="hzsMailNo"
                               value="{{mailNo}}">
                    </div>
                </div>
                {{/if}}

                {{#if (eq cuTyCd 'ZG')}}
                <div class="form-group">
                    <label class="control-label fill">业务主管</label>
                    <div class="">
                        <input type="text" class="form-control required" id="ywzgNa" name="ywzgNa" value="{{na}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">业务主管电话</label>
                    <div class="">
                        <input type="text" class="form-control required isMobilePhone" id="ywzgMoNo" name="ywzgMoNo"
                               value="{{moNo}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label">业务主管邮箱</label>
                    <div class="">
                        <input type="text" class="form-control email" id="ywzgMailNo" name="ywzgMailNo"
                               value="{{mailNo}}">
                    </div>
                </div>
                {{/if}}

                {{#if (eq cuTyCd 'YW')}}
                <div class="form-group">
                    <label class="control-label fill">业务待办人</label>
                    <div class="">
                        <input type="text" class="form-control required" id="ywdbrNa" name="ywdbrNa" value="{{na}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">业务待办人电话</label>
                    <div class="">
                        <input type="text" class="form-control  required isMobilePhone" id="ywdbrNo" name="ywdbrNo"
                               value="{{moNo}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label">业务待办人邮箱</label>
                    <div class="">
                        <input type="text" class="form-control email" id="ywdbrMailNo" name="ywdbrMailNo"
                               value="{{mailNo}}">
                    </div>
                </div>
                {{/if}}
                {{/each}}

                <div class="form-group">
                    <label class="control-label fill">邮政编码</label>
                    <div class="">
                        <input type="text" class="form-control required " id="postNo" name="postNo"
                               value="{{csCooCuAdBList.[0].postNo}}">
                    </div>
                </div>

            </div>
        </div>

        <div class="portlet box reg">
            <div class="portlet-title">
                <div class="caption">
                    信息登记
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse"> </a>
                </div>
            </div>
            <div class="portlet-body tabs-below">

                <div class="form-group">
                    <label class="control-label fill">注册号</label>
                    <div class="">
                        <input type="text" class="form-control required" id="corpPaPaNo "
                               name="corpPaPaNo" value="{{corpPaPaNo}}" maxlength="32">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">注册资本（万）</label>
                    <div class="">
                        <input type="text" class="form-control required bindEvent" id="regPrAm" value="{{regPrAm}}">
                        <input type="hidden" name="regPrAm">
                    </div>
                </div>

                {{#each csCooConBList}}
                {{#if (eq cuTyCd 'FR')}}
                <div class="form-group">
                    <label class="control-label fill">法定代表人</label>
                    <div class="">
                        <input type="text" class="form-control required isChinese" id="fdNa" name="fdNa" value="{{na}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">法人联系电话</label>
                    <div class="">
                        <input type="text" class="form-control  required isMobilePhone" id="fdMoNo" name="fdMoNo"
                               value="{{moNo}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label">法人邮箱地址</label>
                    <div class="">
                        <input type="text" class="form-control email" id="fdMailNo" name="fdMailNo" value="{{mailNo}}">
                    </div>
                </div>
                {{/if}}
                {{/each}}
            </div>
        </div>

        <div class="portlet box reg">
            <div class="portlet-title">
                <div class="caption">
                    开户信息
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse"> </a>
                </div>
            </div>
            <div class="portlet-body tabs-below">

                <div class="form-group">
                    <label class="control-label fill">开户名称</label>
                    <div class="">
                        <input type="text" class="form-control required" id="acNa" name="acNa"
                               value="{{csCorpAcNoBList.[0].acNa}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">开户银行卡号</label>
                    <div class="">
                        <input type="text" class="form-control required isBankCard" id="acNo" name="acNo"
                               value="{{csCorpAcNoBList.[0].acNo}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">开户银行代码</label>
                    <div class="">
                        <input type="text" class="form-control required" id="acBankNo" name="acBankNo"
                               value="{{csCorpAcNoBList.[0].acBankNo}}" maxlength="10">
                    </div>
                </div>


                <div class="form-group">
                    <label class="control-label fill">开户银行名称</label>
                    <div class="">
                        <input type="text" class="form-control isChinese required" id="acBankNa" name="acBankNa"
                               value="{{csCorpAcNoBList.[0].acBankNa}}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">开户证件类型</label>
                    <div class="">
                        <select id="acPaTyCd"
                                name="acPaTyCd"
                                class="form-control required"
                                data-selectloader-store="accountIdType"
                                data-selectloader-val="{{csCorpAcNoBList.[0].acPaTyCd}}"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">开户证件号码</label>
                    <div class="">
                        <input type="text" class="form-control required isIDCard" id="acPaNo" name="acPaNo"
                               value="{{csCorpAcNoBList.[0].acPaNo}}">
                    </div>
                </div>


                <div class="form-group">
                    <label class="control-label fill">账号用途</label>
                    <div class="">
                        <select id="acUsCd"
                                name="acUsCd"
                                class="form-control required"
                                data-selectloader-store="accountUse"
                                data-selectloader-val="{{csCorpAcNoBList.[0].acUsCd}}"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label fill">账号类型</label>
                    <div class="">
                        <select id="acTyCd"
                                name="acTyCd"
                                class="form-control required"
                                data-selectloader-store="accountTpye"
                                data-selectloader-val="{{csCorpAcNoBList.[0].acTyCd}}"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label fill">账号性质</label>
                    <div class="">
                        <select
                                name="acCd"
                                class="form-control required acCd"
                                data-selectloader-store="acCdList"
                                data-selectloader-val="{{csCorpAcNoBList.[0].acCd}}"
                                data-selectloader-vkey="code"
                                data-selectloader-tkey="name">
                            <option value="">请选择...</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="portlet-body center">
            <div class="clearfix">
                <button type="submit" id="commit" class="btn sky-blue btn-wid mainCol">确定</button>
                <a class="btn sky-blue btn-wid mainCol" href="partner-list.html">返回</a>

            </div>
        </div>

    </form>
{{{{/raw}}}}
</script>
{{/content}}

{{/extend}}