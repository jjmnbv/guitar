<!-- 此文件作为基础开发文件，需要开发新页面时，直接复制到相应位置，重命名即可 -->
{{#extend "main"}}

    <!-- 页面meta  作者，关键字，描述 -->
    {{#content "meta"}}
        <meta content="" name="description"/>
        <meta content="" name="author"/>
        <meta content="" name="keyword"/>
    {{/content}}

    <!-- 页面 title -->
    {{#content "title"}}
        <title>{{path.platform}}{{path.subSystem}}佣金配置{{path.detailText}}</title>
    {{/content}}

    <!-- css插件 -->
    {{#content "css-plugins"}}

    {{/content}}

    <!-- 自定义css -->
    {{#content "css-main"}}
        <link rel="stylesheet" href="{{path.app}}/css/common-form.css">
        <link rel="stylesheet" href="{{path.app}}/css/brokerage-config/brokerage-config-common.css">
    {{/content}}

    <!-- 首屏渲染数据js-loader -->
    {{#content "js-loader"}}
        <script src="{{path.base}}/script/cs/dicts?ids=139,140,141"></script>
        <script src="{{path.base}}/script/cs/commissiondetial"></script>
    {{/content}}

    <!-- js插件 -->
    {{#content "js-plugins"}}
        <!-- @Override -->
    {{/content}}

    <!-- 自定义js -->
    {{#content "js-main"}}
        <script src="{{path.app}}/js/cs/brokerage-config/brokerage-config-details.js"></script>
    {{/content}}

    <!-- 页面主体 -->
    {{#content "content-main"}}
        <div id="main-template">

        </div>
    {{/content}}

    <!-- 搜索按钮组，筛选条件，表格，分页的总容器 -->
    {{#content "content-pagination"}}
        <!-- @Override -->
    {{/content}}

    <!-- 分页查询条件 pagination-form -->
    {{#content "pagination-form"}}
        <!-- @Override -->
    {{/content}}

    <!-- 分页表格和分页页码 pagination-container -->
    {{#content "pagination-container"}}
        <!-- @Override -->
    {{/content}}

    <!-- 页面模态框 -->
    {{#content "content-free"}}
        <!-- @Override -->
    {{/content}}

    <!-- 页面组件模板 -->
    {{#content "content-component"}}
        <script type="text/x-handlebars-template" id="table-cont-template">
            {{{{raw}}}}
                <form action="" class="bsdForm form-horizontal" id="details-form">
                    <div class="portlet box reg">
                        <div class="portlet-title">
                            <div class="caption">
                                佣金基本信息
                            </div>
                        </div>
                        <div class="portlet-body tabs-below">

                            <div class="form-group">
                                <label class="control-label fill" for="id">佣金编号</label>
                                <div>
                                    <input type="text" class="form-control required" name="id" id="id"
                                           value="{{id}}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label fill" for="name">佣金名称</label>
                                <div>
                                    <input type="text" class="form-control required" name="name" id="name"
                                           value="{{name}}">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="portlet box reg">
                        <div class="portlet-title">
                            <div class="caption">佣金计算策略</div>
                        </div>
                        <div class="portlet-body tabs-below">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" id="brokerageTable">
                                    <thead>
                                    <tr>
                                        <th width="12.5%">佣金计算基础</th>
                                        <th width="12.5%">佣金计算类型</th>
                                        <th width="12.5%">佣金计算方式</th>
                                        <th width="12.5%">佣金金额</th>
                                        <th width="12.5%">佣金比例</th>
                                        <th width="12.5%">计算基础金额</th>
                                        <th width="12.5%">备注</th>
                                    </tr>
                                    </thead>
                                    <tbody id="tableBody" class="tableBody">

                                    {{#each commissionSubs}}
                                    <tr>
                                        <td class="form-group">
                                            <select id="commissionSubs[{{@index}}].baseCode"
                                                    name="commissionSubs[{{@index}}].baseCode"
                                                    class="form-control baseCode"
                                                    data-selectloader-store="baseCodeItem"
                                                    data-selectloader-vkey="code"
                                                    data-selectloader-tkey="name"
                                                    data-selectloader-val="{{baseCode}}">
                                                <option value="">请选择...</option>
                                            </select>
                                        </td>
                                        <td class="form-group">
                                            <select id="commissionSubs[{{@index}}].code"
                                                    name="commissionSubs[{{@index}}].code"
                                                    class="form-control code"
                                                    data-selectloader-store="codeItem"
                                                    data-selectloader-vkey="code"
                                                    data-selectloader-tkey="name"
                                                    data-selectloader-val="{{code}}">
                                                <option value="">请选择...</option>
                                            </select>
                                        </td>
                                        <td class="form-group">
                                            <select id="commissionSubs[{{@index}}].subCode"
                                                    name="commissionSubs[{{@index}}].subCode"
                                                    class="form-control subCode"
                                                    data-selectloader-store="subCodeItem"
                                                    data-selectloader-vkey="code"
                                                    data-selectloader-tkey="name"
                                                    data-selectloader-val="{{subCode}}">
                                                <option value="">请选择...</option>
                                            </select>
                                        </td>
                                        <td class="form-group">
                                            <input type="text" class="form-control bindEvent"
                                                   name="commissionSubs[{{@index}}].amount"
                                                   id="commissionSubs[{{@index}}].amount" value="{{amount}}">
                                        </td>
                                        <td class="form-group">
                                            <input type="text" class="form-control percentFormat"
                                                   name="commissionSubs[{{@index}}].percent"
                                                   id="commissionSubs[{{@index}}].percent" value="{{percent}}">
                                        </td>
                                        <td class="form-group">
                                            <input type="text" class="form-control bindEvent"
                                                   name="commissionSubs[{{@index}}].baseMaxAmount"
                                                   id="commissionSubs[{{@index}}].baseMaxAmount"
                                                   value="{{baseMaxAmount}}">
                                        </td>
                                        <td class="form-group">
                                            <input type="text" class="form-control"
                                                   name="commissionSubs[{{@index}}].comment"
                                                   id="commissionSubs[{{@index}}].comment" value="{{comment}}">
                                        </td>
                                    </tr>
                                    {{/each}}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="portlet-body center">
                        <div class="clearfix">
                            <a href="brokerage-config-list.html" class="btn sky-blue btn-wid mainCol">返回</a>
                        </div>
                    </div>
                </form>
            {{{{/raw}}}}
        </script>
        {{/content}}

        {{/extend}}