<!-- 此文件作为基础开发文件，需要开发新页面时，直接复制到相应位置，重命名即可 -->
{{#extend "main"}}

    <!-- 页面meta  作者，关键字，描述 -->
    {{#content "meta"}}
        <meta content="" name="description"/>
        <meta content="" name="author"/>
        <meta content="" name="keyword"/>
    {{/content}}

    <!-- 页面 title -->
    {{#content "title"}}
        <title>{{path.platform}}{{path.subSystem}}门店详细信息编辑</title>
    {{/content}}

    <!-- css插件 -->
    {{#content "css-plugins"}}
    {{/content}}

    <!-- 自定义css -->
    {{#content "css-main"}}
        <link rel="stylesheet" href="{{path.app}}/css/common-form.css">
        <link rel="stylesheet" href="{{path.app}}/css/modal-form.css">
        <link rel="stylesheet" href="{{path.app}}/css/store/add-store.css">
    {{/content}}

    <!-- 首屏渲染数据js-loader -->
    {{#content "js-loader"}}
        <script src="{{path.base}}/script/cs/findallprovince"></script>
        <script src="{{path.base}}/script/cs/dicts?ids=128,129,17,28,65,132,142"></script>
        <script src="{{path.base}}/script/cs/updateindexmd"></script>
    {{/content}}

    <!-- js插件 -->
    {{#content "js-plugins"}}
    {{/content}}

    <!-- 自定义js -->
    {{#content "js-main"}}
        <script src="{{path.app}}/js/cs/store/common.js"></script>
        <script src="{{path.app}}/js/cs/store/store-message-edit.js"></script>
    {{/content}}

    <!-- 页面主体 -->
    {{#content "content-main"}}
        <div id="edit-mianCont">

        </div>

    {{/content}}

    <!-- 搜索按钮组，筛选条件，表格，分页的总容器 -->
    {{#content "content-pagination"}}
        <!-- @Override -->
    {{/content}}

    <!-- 页面模态框 -->
    {{#content "content-free"}}
        <div class="modal fade" id="partnerModal" tabindex="-1" role="basic" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content" id="partnerListModal">
                    <div data-modal-header="" class="modal-header">
                        <h3 class="modal-title">所属合作商信息列表
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                            <a class="search-pic" id="searchCase" href="javaScript:;"><img src="{{path.app}}/img/search_model.png" alt=""></a>
                        </h3>
                    </div>
                    <div data-modal-body="" class="modal-body">
                        <form action="/PARTNERLIST" class="bsdForm pagination-form query-form">
                            <div class="search">
                                <div class="form-group">
                                    <label class="form-label">合作商编号</label>
                                    <div>
                                        <input type="text" class="form-control" name="cooNo">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">合作商名称</label>
                                    <div>
                                        <input type="text" class="form-control" name="cooNa">
                                    </div>
                                </div>
                                <div class="btn-right">
                                    <button class="multiselect dropdown-toggle mt-multiselect btn btn-default mainCol reset"
                                            type="reset">
                                        重置
                                    </button>
                                    <button class="multiselect dropdown-toggle mt-multiselect btn btn-default pagination-query mainCol"
                                            id="belongPartner"
                                            type="button"
                                            data-select2-open="single-prepend-text">
                                        查询
                                    </button>
                                </div>

                            </div>
                        </form>
                        <div class="mes-list">
                            <div id="partnerTable">
                                <div class="pagination-reload"></div>
                                <div class="portlet-body pagination-container"
                                     data-page-first-store="first-store"
                                     data-page-url="/PARTNERLIST"
                                     data-page-template-id="partnerlist-page-template"></div>
                            </div>
                        </div>
                    </div>
                    <div data-modal-footer="" class="modal-footer model-btn-center">
                        <div class="portlet-body">
                            <div class="clearfix">
                                <button class="btn sky-blue btn-wid mainCol" data-dismiss="modal" id="confirmY">确定
                                </button>
                                <button class="btn sky-blue btn-wid mainCol" data-dismiss="modal">取消</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    {{/content}}
    <!-- 页面组件模板 -->
    {{#content "content-component"}}

        <script type="text/x-handlebars-template" id="partnerlist-page-template">
            {{{{raw}}}}
                <div class="table-scrollable">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                        <tr>
                            <td>选择</td>
                            <td>合作商名称</td>
                            <td>合作商编号</td>
                            <td>合作商负责人</td>
                            <td>状态</td>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each page.content}}
                        <tr>

                            <td>
                                <label class="mt-radio">
                                    <input type="radio" name="choice" value="{{cooNo}}"/>
                                    <span></span>
                                </label>
                                <input type="hidden" class="brNo" value="{{brNo}}">
                                <input type="hidden" class="brNa" value="{{brNa}}">
                                <input type="hidden" class="cuMaUsId " value="{{cuMaUsId }}">
                                <input type="hidden" class="cuMaNa" value="{{cuMaNa}}">
                                <input type="hidden" class="cuMaLoginNa" value="{{cuMaLoginNa}}">
                                <input type="hidden" class="cooNo" value="{{cooNo}}">
                            </td>
                            <td>{{cooNa}}</td>
                            <td>{{cooNo}}</td>
                            <td>{{hzsNa}}</td>
                            <td>{{st-text}}</td>
                        </tr>
                        {{/each}}
                        </tbody>
                    </table>
                </div>
            {{{{/raw}}}}
            {{> pager}}
        </script>

        <script type="text/x-handlebars-template" id="edit-mainCont-template">
            {{{{raw}}}}
            <form action="" class="bsdForm form-horizontal" id="details-form" data-link="store-list.html">

                <div class="portlet box reg">
                    <div class="portlet-title">
                        <div class="caption">
                            基本信息
                        </div>
                        <div class="tools">
                            <a href="javascript:;" class="collapse"></a>
                        </div>
                    </div>
                    <div class="portlet-body tabs-below">
                        <div class="form-group">
                            <label class="control-label fill">门店编号</label>
                            <div>
                                <input type="text" class="form-control required notEmpty" id="cooNo" name="cooNo"
                                       value="{{cooNo}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">门店名称</label>
                            <div>
                                <input type="text" class="form-control required notEmpty" id="cooNa" name="cooNa"
                                       value="{{cooNa}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">门店类型</label>
                            <div>
                                <select id="cooKiCd"
                                        name="cooKiCd"
                                        class="form-control required"
                                        data-selectloader-store="classify"
                                        data-selectloader-val="{{cooKiCd}}"
                                        data-selectloader-vkey="code"
                                        data-selectloader-tkey="name">
                                    <option value="">请选择...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">门店性质</label>
                            <div>
                                <select id="cooNatCd"
                                        name="cooNatCd"
                                        class="form-control required"
                                        data-selectloader-store="industry"
                                        data-selectloader-val="{{cooNatCd}}"
                                        data-selectloader-vkey="code"
                                        data-selectloader-tkey="name">
                                    <option value="">请选择...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">所属合作商</label>
                            <div class="find">
                                <div class="line">
                                    <input type="hidden" id="partnerHidden" name="sshzscooNo" value="{{faCooNo}}">
                                    <input type="text" class="form-control required " id="partner" value="{{faCooNa}}"
                                           readonly>
                                </div>
                                <div class="line-use">
                                    <a data-toggle="modal" href="#partnerModal">
                                        <button class="multiselect dropdown-toggle mt-multiselect btn btn-default"
                                                type="button"
                                                data-select2-open="single-prepend-text">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">所属管理机构</label>
                            <div>
                                <input type="text" class="form-control required" name="brNa" value="{{brNa}}">
                            </div>
                            <input type="hidden" name="brNo" value="{{brNo}}">

                        </div>

                        <div class="form-group">
                            <label class="control-label fill">客户经理</label>
                            <div>
                                <input type="text" class="form-control required" name="cuMaNa" value="{{cuMaNa}}">
                                <input type="hidden" name="cuMaUsId" value="{{cuMaUsId}}">
                                <input type="hidden" name="cuMaLoginNa" value="{{cuMaLoginNa}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">合作协议号</label>
                            <div>
                                <input type="text" class="form-control required notEmpty" id="coNo" name="coNo"
                                       value="{{csCooCoBList.[0].coNo}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill" for="loDeaYn">是否进件</label>
                            <div class="radio-list user-flag enter" data-radioloader-name="loDeaYn"
                                 data-radioloader-val="{{loDeaYn}}"
                                 data-radioloader-store="userFlag" data-radioloader-vkey="code"
                                 data-radioloader-tkey="name"></div>
                        </div>
                        <div class="form-group form-group-sel">
                            <label class="control-label fill">合作日期</label>
                            <div class="selBox cooperationDt">
                                <div class="input-group input-medium date date-picker-page"
                                     data-date-format="yyyy-dd-mm" data-date-viewmode="years"
                                     data-date-language="zh-CN">
                                    <input type="text" class="form-control required ltTimeValidate"
                                           id="beDt" name="beDt"
                                           data-gtTimeValidate="enDt"
                                           value="{{csCooCoBList.[0].beDt}}" readonly>
                                    <span class="input-group-btn hos-data">
                                        <button class="btn default" type="button">
                                            <i class="fa fa-calendar"></i>
                                        </button>
                                    </span>
                                </div>
                                <span>至</span>
                                <div class="input-group input-medium date date-picker-page"
                                     data-date-format="yyyy-dd-mm" data-date-viewmode="years"
                                     data-date-language="zh-CN">
                                    <input type="text" class="form-control required gtTimeValidate"
                                           data-ltTimeValidate="beDt"
                                           id="enDt" name="enDt"
                                           value="{{csCooCoBList.[0].enDt}}" readonly>
                            <span class="input-group-btn hos-data">
                                    <button class="btn default" type="button">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="portlet box reg">
                    <div class="portlet-title">
                        <div class="caption">
                            联系信息
                        </div>
                        <div class="tools">
                            <a href="javascript:;" class="collapse"> </a>
                        </div>
                    </div>
                    <div class="portlet-body tabs-below">
                        <div class="details-address">
                            <label class="fill control-label">门店地址</label>
                            <div class="address clearfix">
                                <div class="conSelect clearfix">
                                    <select id="provCd"
                                            name="provCd"
                                            class="required"
                                            data-selectloader-store="provinceList"
                                            data-selectloader-val="{{csCooCuAdBList.[0].provCd}}"
                                            data-selectloader-vkey="districtCode"
                                            data-selectloader-tkey="districtName"
                                            data-selectloader-nselect="#cityCd">
                                        <option value="">请选择...</option>
                                    </select>

                                    <select id="cityCd"
                                            name="cityCd"
                                            class="required"
                                            data-selectloader-store="children"
                                            data-selectloader-val="{{csCooCuAdBList.[0].cityCd}}"
                                            data-selectloader-vkey="districtCode"
                                            data-selectloader-tkey="districtName"
                                            data-selectloader-nselect="#distCd">
                                        <option value="">请选择...</option>
                                    </select>

                                    <select id="distCd"
                                            name="distCd"
                                            class="required"
                                            data-selectloader-store="children"
                                            data-selectloader-val="{{csCooCuAdBList.[0].distCd}}"
                                            data-selectloader-vkey="districtCode"
                                            data-selectloader-tkey="districtName">
                                        <option value="">请选择...</option>
                                    </select>
                                </div>
                                <input class="form-control required notEmpty" type="text" name="adCa"
                                       value="{{csCooCuAdBList.[0].adCa}}" maxlength="200">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">门店电话</label>
                            <div>
                                <input type="text" class="form-control required notEmpty" id="hzsTelNo" name="hzsTelNo"
                                       value="{{csCooConBList.[0].telNo}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-5 control-label fill">门店经理</label>
                            <div>
                                <input type="text" class="form-control required notEmpty" id="hzsNa" name="hzsNa"
                                       value="{{csCooConBList.[0].na}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label fill">门店经理电话</label>
                            <div>
                                <input type="text" class="form-control required notEmpty" id="hzsMoNo" name="hzsMoNo"
                                       value="{{csCooConBList.[0].moNo}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">门店经理邮箱</label>
                            <div>
                                <input type="text" class="form-control email" id="hzsMailNo" name="hzsMailNo"
                                       value="{{csCooConBList.[0].mailNo}}">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="portlet box reg">
                    <div class="portlet-title">
                        <div class="caption">
                            账号信息
                        </div>
                        <div class="tools">
                            <a href="javascript:;" class="collapse"> </a>
                        </div>
                    </div>
                    <div class="portlet-body tabs-below">
                        <div id="csCorpAcNoBList-content">
                            <div class="form-group">
                                <label class="control-label fill">开户名称</label>
                                <div>
                                    <input type="text" class="form-control required notEmpty" id="acNa" name="acNa"
                                           value="{{csCorpAcNoBList.[0].acNa}}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label fill">开户银行卡号</label>
                                <div>
                                    <input type="text" class="form-control required notEmpty isBankCard" id="acNo"
                                           name="acNo" value="{{csCorpAcNoBList.[0].acNo}}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label fill">开户银行代码</label>
                                <div>
                                    <input type="text" class="form-control required notEmpty" id="acBankNo"
                                           name="acBankNo" value="{{csCorpAcNoBList.[0].acBankNo}}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label fill">开户银行名称</label>
                                <div>
                                    <input type="text" class="form-control required notEmpty" id="acBankNa"
                                           name="acBankNa" value="{{csCorpAcNoBList.[0].acBankNa}}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label fill">开户证件类型</label>
                                <div>
                                    <select id="acPaTyCd"
                                            name="acPaTyCd"
                                            class="form-control required"
                                            data-selectloader-store="accountIdType"
                                            data-selectloader-val="{{csCorpAcNoBList.[0].acPaTyCd}}"
                                            data-selectloader-vkey="code"
                                            data-selectloader-tkey="name">
                                        <option value="">请选择...</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label fill">开户证件号码</label>
                                <div>
                                    <input type="text" class="form-control required" id="acPaNo" name="acPaNo"
                                           value="{{csCorpAcNoBList.[0].acPaNo}}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label fill">账号用途</label>
                                <div>
                                    <select id="acUsCd"
                                            name="acUsCd"
                                            class="form-control required"
                                            data-selectloader-store="accountUse"
                                            data-selectloader-vkey="code"
                                            data-selectloader-tkey="name"
                                            data-selectloader-val="{{csCorpAcNoBList.[0].acUsCd}}">
                                        <option value="">请选择...</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label fill">账号类型</label>
                                <div>
                                    <select id="acTyCd"
                                            name="acTyCd"
                                            class="form-control required"
                                            data-selectloader-store="accountTpye"
                                            data-selectloader-vkey="code"
                                            data-selectloader-tkey="name"
                                            data-selectloader-val="{{csCorpAcNoBList.[0].acTyCd}}">
                                        <option value="">请选择...</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label fill">账号性质</label>
                                <div>
                                    <select id="acCd"
                                            name="acCd"
                                            class="form-control required acCd"
                                            data-selectloader-store="acCdList"
                                            data-selectloader-vkey="code"
                                            data-selectloader-tkey="name"
                                            data-selectloader-val="{{csCorpAcNoBList.[0].acCd}}">
                                        <option value="">请选择...</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="portlet-body center">
                    <div class="clearfix">
                        <button type="submit" id="commit" class="btn sky-blue btn-wid mainCol">确定</button>
                        <a class="btn sky-blue btn-wid mainCol" href="store-list.html">返回</a>
                    </div>
                </div>

            </form>
{{{{/raw}}}}

</script>
<!--账户信息列表-->
<script type="text/x-handlebars-template" id="csCorpAcNoBList-template">
    {{{{raw}}}}
    {{#each csCorpAcNoBList}}
    <div>
        <div class="form-group">
            <label class="control-label fill">开户名称</label>
            <div>
                <input type="text" class="form-control required notEmpty" id="acNa" name="acNa" value="{{acNa}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label fill">开户银行卡号</label>
            <div>
                <input type="text" class="form-control required notEmpty isBankCard" id="acNo" name="acNo"
                       value="{{acNo}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label fill">开户银行代码</label>
            <div>
                <input type="text" class="form-control required notEmpty" id="acBankNo" name="acBankNo"
                       value="{{acBankNo}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label fill">开户银行名称</label>
            <div>
                <input type="text" class="form-control required notEmpty" id="acBankNa" name="acBankNa"
                       value="{{acBankNa}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label fill">开户证件类型</label>
            <div>
                <select id="acPaTyCd"
                        name="acPaTyCd"
                        class="form-control required"
                        data-selectloader-store="accountIdType"
                        data-selectloader-vkey="code"
                        data-selectloader-tkey="name"
                        data-selectloader-val="{{acPaTyCd}}">
                    <option value="">请选择...</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label fill">开户证件号码</label>
            <div>
                <input type="text" class="form-control required notEmpty" id="acPaNo" name="acPaNo" value="{{acPaNo}}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label fill">账号用途</label>
            <div>
                <select id="acUsCd"
                        name="acUsCd"
                        class="form-control required"
                        data-selectloader-store="accountUse"
                        data-selectloader-vkey="code"
                        data-selectloader-tkey="name"
                        data-selectloader-val="{{acUsCd}}">
                    <option value="">请选择...</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label fill">账号类型</label>
            <div>
                <select id="acTyCd"
                        name="acTyCd"
                        class="form-control required"
                        data-selectloader-store="accountTpye"
                        data-selectloader-vkey="code"
                        data-selectloader-tkey="name"
                        data-selectloader-val="{{acTyCd}}">
                    <option value="">请选择...</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label fill">账号性质</label>
            <div>
                <select id="acCd"
                        name="acCd"
                        class="form-control required acCd"
                        data-selectloader-store="acCdList"
                        data-selectloader-vkey="code"
                        data-selectloader-tkey="name"
                        data-selectloader-val="{{acCd}}">
                    <option value="">请选择...</option>
                </select>
            </div>
        </div>
    </div>
    {{/each}}
{{{{/raw}}}}
</script>
{{/content}}

{{/extend}}